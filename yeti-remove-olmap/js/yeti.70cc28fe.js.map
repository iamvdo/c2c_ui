{"version":3,"sources":["webpack:///./src/views/portals/YetiView.vue?d980","webpack:///./src/components/yeti/Panel.vue?aa77","webpack:///./src/assets/img/yeti/logo-ensg.avif","webpack:///./src/components/yeti/SubPanelCourse.vue?28bf","webpack:///./src/views/portals/YetiView.vue?5778","webpack:///./src/components/yeti/SubPanelMethods.vue?b87b","webpack:///./src/assets/img/yeti/logo-fondation-petzl.avif","webpack:///./src/components/yeti/Tabs.vue?9d12","webpack:///./src/assets/img/yeti/levels-danger.svg","webpack:///./src/components/yeti/YetiMap.vue?bbb6","webpack:///./src/components/yeti/Counter.vue?91fa","webpack:///./src/components/yeti/map-layers/YetiLayer.vue?1005","webpack:///./src/views/portals/YetiView.vue?031e","webpack:///./src/components/yeti/Article.vue?2637","webpack:///./src/components/yeti/SubPanelTitle.vue?6082","webpack:///./src/components/yeti/SubPanelTitle.vue?5034","webpack:///src/components/yeti/Article.vue","webpack:///./src/components/yeti/Article.vue?a0ae","webpack:///./src/components/yeti/Article.vue?2671","webpack:///./src/components/yeti/Panel.vue?c742","webpack:///src/components/yeti/Panel.vue","webpack:///./src/components/yeti/Panel.vue?9221","webpack:///./src/components/yeti/Panel.vue?ac14","webpack:///./src/components/yeti/SubPanelBra.vue?ed9a","webpack:///./src/components/yeti/Counter.vue?c43d","webpack:///src/components/yeti/Counter.vue","webpack:///./src/components/yeti/Counter.vue?40ec","webpack:///./src/components/yeti/Counter.vue?ce80","webpack:///src/components/yeti/SubPanelBra.vue","webpack:///./src/components/yeti/SubPanelBra.vue?a7d8","webpack:///./src/components/yeti/SubPanelBra.vue?7466","webpack:///./src/components/yeti/SubPanelCourse.vue?492c","webpack:///./src/components/yeti/FeaturesList.vue?4639","webpack:///src/components/yeti/FeaturesList.vue","webpack:///./src/components/yeti/FeaturesList.vue?8861","webpack:///./src/components/yeti/FeaturesList.vue?d954","webpack:///src/components/yeti/SubPanelCourse.vue","webpack:///./src/components/yeti/SubPanelCourse.vue?0981","webpack:///./src/components/yeti/SubPanelCourse.vue?1101","webpack:///./src/components/yeti/SubPanelMethods.vue?19c0","webpack:///src/components/yeti/SubPanelMethods.vue","webpack:///./src/components/yeti/SubPanelMethods.vue?6b02","webpack:///./src/components/yeti/SubPanelMethods.vue?daba","webpack:///./src/components/yeti/Tabs.vue?17e8","webpack:///src/components/yeti/Tabs.vue","webpack:///./src/components/yeti/Tabs.vue?9431","webpack:///./src/components/yeti/Tabs.vue?55b3","webpack:///./src/components/yeti/ValidationButton.vue?1c34","webpack:///src/components/yeti/ValidationButton.vue","webpack:///./src/components/yeti/ValidationButton.vue?a57f","webpack:///./src/components/yeti/ValidationButton.vue?37bc","webpack:///./src/components/yeti/YetiMap.vue?a1f9","webpack:///./src/components/yeti/map-layers/layer.js","webpack:///src/components/yeti/map-layers/RouteLayer.vue","webpack:///./src/components/yeti/map-layers/RouteLayer.vue","webpack:///./src/components/yeti/map-layers/RouteLayer.vue?9326","webpack:///./src/components/yeti/map-layers/YetiLayer.vue?310b","webpack:///src/components/yeti/map-layers/YetiLayer.vue","webpack:///./src/components/yeti/map-layers/YetiLayer.vue?21f4","webpack:///./src/components/yeti/map-layers/YetiLayer.vue?76fc","webpack:///src/components/yeti/YetiMap.vue","webpack:///./src/components/yeti/YetiMap.vue?a235","webpack:///./src/components/yeti/YetiMap.vue?62e8","webpack:///src/views/portals/YetiView.vue","webpack:///./src/views/portals/YetiView.vue?2527","webpack:///./src/views/portals/YetiView.vue?b1ac","webpack:///./src/assets/img/yeti/logo-ensg.jpg","webpack:///./src/components/yeti/SubPanelBra.vue?b30e","webpack:///./src/components/yeti/FeaturesList.vue?e8d1","webpack:///./src/assets/img/yeti/logo-fondation-petzl.webp","webpack:///./src/assets/img/yeti/logo-ensg.webp","webpack:///./src/components/yeti/SubPanelTitle.vue?7462","webpack:///./src/components/yeti/Article.vue?9bcd","webpack:///./src/components/yeti/ValidationButton.vue?1942","webpack:///./src/assets/img/yeti/logo-fondation-petzl.jpg"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","name","rawName","articles","disclaimer","on","onSubmitDisclaimer","model","value","callback","$$v","checkDisclaimer","expression","_e","$route","params","page","faq","fullPath","tabs","activeTab","hasFeatures","$event","ref","currentError","promise","compute","bra","mountains","method","warnAboutMethodBra","features","featuresTitle","onGpxLoaded","_m","gpx","validFormData","minZoom","mapZoom","yetiData","yetiExtent","areaOk","staticRenderFns","_s","title","document","fields","description","_t","script","component","components","SubPanelTitle","MarkdownSection","props","article","type","Object","required","computed","id","constants","$language","current","watch","cookDocument","methods","c2c","result","index","Number","class","isDifferent","staticStyle","$gettext","domProps","high","onChange","altiThreshold","low","showMountainsList","countVisibleMountains","undefined","_l","mountainsForMassif","massif","key","mountain","urls","url","isPrimary","Boolean","default","visibleMountains","values","reduce","a","b","length","event","prop","target","$emit","assign","hasFeaturesTitle","onEditNewFeaturesTitle","onEditFeaturesTitle","indexOf","keyCode","preventDefault","onRemoveFeatures","_q","format","downloadCourse","loading","onLoadGpx","uploadGpx","feature","i","showFeature","hideFeature","nbPointsOnFeature","removeFeature","inject","Array","$yetix","setStyle","get","getGeometry","getCoordinates","String","newFeaturesTitle","formats","$on","e","innerText","$nextTick","$refs","focus","gpxFileInput","click","confirm","reader","FileReader","onload","readAsText","files","downloadFeatures","ol","olFormat","extension","mimetype","set","filename","setFilename","content","writeFeatures","featureProjection","utils","ext","keys","item","orientation","join","label","text","potentialDangerOptions","min","max","potentialDanger","val","wetSnow","groupSize","DANGER","mrd","mre","mrp","groupSizes","data","push","tab","refInFor","setActiveTab","setActiveTabKeyboard","ARROW_LEFT","ARROW_RIGHT","ARROW_DOWN","dir","tabindex","Promise","showLayerSwitcher","validMinZoom","addInteraction","stopPropagation","layer","visibleCartoLayer","toggleMapDataLayer","getVisible","searchRecenterPropositions","recenterPropositions","recenterOn","properties","state","country","map","$parent","view","getView","normalLineStyle","stroke","color","width","highlightedLineStyle","mixins","active","drawInteraction","setActive","modifyInteraction","snapInteraction","addFeaturesFromGpx","featuresLayer","source","style","featuresLayerSource","getSource","addLayer","doc","document_id","lang","onFeature","addInteractions","removeFeatures","onDrawStart","onDrawEnd","onModifyEnd","addEventListener","onKeyWhileDrawing","removeEventListener","emitFeaturesEvent","removeLastPoint","loadingExternalFeatures","getFeaturesLayerFeatures","featuresTitleFromSource","$router","replace","getFeatures","toBeRemoved","clear","promiseDocument","gpxFormat","readFeatures","addFeature","getFeaturesTitleFromGpx","fitMapToFeatures","getProperties","documentGeometry","geometry","geom_detail","getFeaturesTitleFromDocument","getType","lines","getLineStrings","$documentUtils","getDocumentTitle","extent","fit","setZoom","Math","getZoom","showLegend","mapLegend","comment","background","onUpdateOpacity","opacity","ATTRIBUTION","OPACITY","VueSlider","isLayerLoaded","drawImage","clearLayers","drawExtent","setSource","extentLayer","extentFill","xml","DOMParser","parseFromString","imageBase64","getElementsByTagName","textContent","imageBbox","imageExtent","setLegend","setOpacity","JSON","parse","items","forEach","minX","minY","maxX","maxY","DEFAULT_CENTER","DEFAULT_ZOOM","MAX_ZOOM","YETI_URL_MOUNTAINS","YETI_URL_AREAS","RouteLayer","YetiLayer","cartoLayers","dataLayers","showRecenterOnPropositions","areas","find","setVisible","levelStrokeWidth","levelStrokeOpacity","lineWidthStroke","opacityStroke","lineDashStroke","lineDash","controls","layers","center","zoom","maxZoom","setTarget","areasLayer","renderMode","areasLayerStyle","addEvents","projection","calculateExtent","getSize","query","getCenter","centerWgs84","photon","coordinates","flatCoordinates","setCenter","onMapMoveEnd","floor","setVisibleMountains","isAreaOK","allMountains","sortMountainsByMassif","sortedMountains","sort","mapExtent","getExtent","filter","polygon","intersectsExtent","rawFeatures","transform","area","rawCoords","coords","j","addFeatures","YETI_URL_BASE","VALID_FORM_DATA","braMaxMrd","YetiArticle","Panel","SubPanelBra","SubPanelCourse","SubPanelMethods","Tabs","ValidationButton","YetiMap","showDisclaimer","errors","simple","full","method_bra","altitude","ok","yeti","yeti_prefix","yeti_unauthorized","formError","isBraMax","newValue","$localStorage","check","mrdIsNotApplicable","setCurrentError","window","alert","extendedExtent","extendExtent","yetiUrl","getYetiUrl","extendedFactor","extendedValue","err","errorText","response","status","bbox","braLow","braAltiThreshold","compass"],"mappings":"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","file":"js/yeti.70cc28fe.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiView.vue?vue&type=style&index=0&id=6c308007&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=style&index=0&id=6a9ccc68&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo-ensg.12db1227.avif\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelCourse.vue?vue&type=style&index=0&id=2d69ab03&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiView.vue?vue&type=style&index=1&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelMethods.vue?vue&type=style&index=0&id=b13e18f2&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo-fondation-petzl.1d7d0bdd.avif\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=style&index=0&id=c6260810&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/levels-danger.ab1771e4.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiMap.vue?vue&type=style&index=0&id=c2425980&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Counter.vue?vue&type=style&index=0&id=79e0b738&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiLayer.vue?vue&type=style&index=0&id=63ee9d9e&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section\"},[_c('html-header',{attrs:{\"title\":\"Yeti\"}}),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('h1',{staticClass:\"title is-1\"},[_c('div',{staticClass:\"yeti-icon is-inline-block\"},[_c('icon-yeti')],1),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"YETI - A preparation tool for your outing\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"yeti-app\"},[(_vm.showDisclaimer)?_c('div',{staticClass:\"box yeti-overlay\"},[_c('yeti-article',{staticClass:\"yeti-article--disclaimer\",attrs:{\"article\":_vm.articles.disclaimer}}),_vm._v(\" \"),_c('form',{attrs:{\"action\":\"#\"},on:{\"submit\":_vm.onSubmitDisclaimer}},[_c('input-checkbox',{directives:[{name:\"translate\",rawName:\"v-translate\"}],model:{value:(_vm.checkDisclaimer),callback:function ($$v) {_vm.checkDisclaimer=$$v},expression:\"checkDisclaimer\"}},[_vm._v(\"\\n          I read and understood the interest and limitations of YETI\\n        \")]),_vm._v(\" \"),_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",attrs:{\"disabled\":!_vm.checkDisclaimer}},[_vm._v(\"Launch YETI\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.$route.params.page === 'faq')?_c('div',{staticClass:\"box yeti-overlay\"},[_c('p',[_c('router-link',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"to\":\".\"}},[_vm._v(\"Go back to YETI\")])],1),_vm._v(\" \"),_c('yeti-article',{staticClass:\"yeti-article--disclaimer\",attrs:{\"article\":_vm.articles.disclaimer}}),_vm._v(\" \"),_c('yeti-article',{attrs:{\"article\":_vm.articles.faq}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"columns yeti-content\"},[_c('div',{staticClass:\"column is-6-tablet is-6-desktop is-5-widescreen is-4-fullhd form-container\"},[_c('div',{staticClass:\"columns mb-0 yeti-columns--reverse is-mobile\"},[_c('ul',{staticClass:\"column is-narrow pb-0\"},[_c('li',[_c('router-link',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-block yetitabs-link\",attrs:{\"to\":_vm.$route.fullPath + '/faq'}},[_vm._v(\"\\n                FAQ?\\n              \")])],1)]),_vm._v(\" \"),_c('tabs',{attrs:{\"tabs\":_vm.tabs,\"active-tab\":_vm.activeTab,\"has-features\":_vm.hasFeatures},on:{\"update:activeTab\":function($event){_vm.activeTab=$event},\"update:active-tab\":function($event){_vm.activeTab=$event}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('panel',{ref:\"panel0\",staticClass:\"is-relative\",attrs:{\"index\":0,\"active-tab\":_vm.activeTab}},[_c('validation-button',{staticClass:\"is-hidden-mobile yeti-validation--top\",attrs:{\"current-error\":_vm.currentError,\"loading\":_vm.promise,\"tabindex\":\"-1\"},on:{\"click\":_vm.compute}}),_vm._v(\" \"),_c('sub-panel-bra',{attrs:{\"bra\":_vm.bra,\"mountains\":_vm.mountains},on:{\"update:bra\":function($event){_vm.bra=$event}}}),_vm._v(\" \"),_c('sub-panel-methods',{attrs:{\"method\":_vm.method,\"bra\":_vm.bra},on:{\"update:method\":function($event){_vm.method=$event},\"warn-about-method-bra\":_vm.warnAboutMethodBra}}),_vm._v(\" \"),_c('validation-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type),expression:\"method.type\"}],staticClass:\"yeti-validation--bottom\",attrs:{\"current-error\":_vm.currentError,\"loading\":_vm.promise},on:{\"click\":_vm.compute}})],1),_vm._v(\" \"),_c('panel',{ref:\"panel1\",attrs:{\"index\":1,\"active-tab\":_vm.activeTab}},[_c('sub-panel-course',{attrs:{\"features\":_vm.features,\"features-title\":_vm.featuresTitle},on:{\"update:featuresTitle\":function($event){_vm.featuresTitle=$event},\"update:features-title\":function($event){_vm.featuresTitle=$event},\"gpx\":_vm.onGpxLoaded}})],1)],1),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_c('yeti-map',{ref:\"map\",attrs:{\"gpx\":_vm.gpx,\"active-tab\":_vm.activeTab,\"valid-min-zoom\":_vm.validFormData.minZoom,\"map-zoom\":_vm.mapZoom,\"yeti-data\":_vm.yetiData,\"yeti-extent\":_vm.yetiExtent,\"mountains\":_vm.mountains,\"area-ok\":_vm.areaOk,\"features\":_vm.features},on:{\"update:mapZoom\":function($event){_vm.mapZoom=$event},\"update:map-zoom\":function($event){_vm.mapZoom=$event},\"update:mountains\":function($event){_vm.mountains=$event},\"update:areaOk\":function($event){_vm.areaOk=$event},\"update:area-ok\":function($event){_vm.areaOk=$event}}})],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box yeti-logos\"},[_c('div',{staticClass:\"columns is-mobile is-vcentered\"},[_c('div',{staticClass:\"column has-text-centered\"},[_c('a',{attrs:{\"href\":\"http://www.ensg.eu\"}},[_c('picture',[_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-ensg.webp\"),\"type\":\"image/webp\"}}),_vm._v(\" \"),_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-ensg.avif\"),\"type\":\"image/avif\"}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/logo-ensg.jpg\"),\"alt\":\"Logo ENSG\",\"width\":\"120\",\"loading\":\"lazy\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"column has-text-centered\"},[_c('a',{attrs:{\"href\":\"https://www.petzl.com/fondation/fondation-petzl?language=fr\"}},[_c('picture',[_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-fondation-petzl.webp\"),\"type\":\"image/webp\"}}),_vm._v(\" \"),_c('source',{attrs:{\"srcset\":require(\"@/assets/img/yeti/logo-fondation-petzl.avif\"),\"type\":\"image/avif\"}}),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/logo-fondation-petzl.jpg\"),\"alt\":\"Logo Fondation Petzl\",\"width\":\"90\",\"loading\":\"lazy\"}})])])])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.document)?_c('div',{staticClass:\"yeti-article\"},[_c('sub-panel-title',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('markdown-section',{attrs:{\"document\":_vm.document,\"field\":_vm.fields.description,\"hide-title\":\"\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('h2',{staticClass:\"title is-3\"},[_vm._t(\"default\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./SubPanelTitle.vue?vue&type=template&id=43c30758&scoped=true&\"\nvar script = {}\nimport style0 from \"./SubPanelTitle.vue?vue&type=style&index=0&id=43c30758&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43c30758\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-article\" v-if=\"document\">\n    <sub-panel-title>{{ title }}</sub-panel-title>\n    <markdown-section :document=\"document\" :field=\"fields.description\" hide-title></markdown-section>\n  </div>\n</template>\n\n<script>\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport c2c from '@/js/apis/c2c';\nimport constants from '@/js/constants';\nimport MarkdownSection from '@/views/document/utils/field-viewers/MarkdownSection';\n\nexport default {\n  components: {\n    SubPanelTitle,\n    MarkdownSection,\n  },\n  props: {\n    article: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      promise: null,\n    };\n  },\n  computed: {\n    id() {\n      return this.article.id;\n    },\n    title() {\n      return this.article.title;\n    },\n    document() {\n      return this.promise?.data ?? null;\n    },\n    fields() {\n      return constants.objectDefinitions.article.fields;\n    },\n    lang() {\n      return this.$language.current;\n    },\n  },\n  watch: {\n    lang() {\n      this.cookDocument();\n    },\n  },\n  mounted() {\n    this.cookDocument();\n  },\n  methods: {\n    cookDocument() {\n      // get document, and set promise only in then (no FOIT)\n      c2c.article.getCooked(this.id, this.$language.current).then((result) => {\n        this.promise = result;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.yeti-article {\n  max-width: 1039px;\n  margin-top: 1.75em;\n}\n::v-deep {\n  h3 {\n    margin-top: 2em;\n  }\n  p {\n    margin: 1em 0;\n  }\n  ul {\n    list-style-type: disc;\n  }\n  figure img {\n    max-width: 90%;\n    max-height: 500px;\n  }\n}\n.yeti-article--disclaimer ::v-deep li {\n  margin: 2em 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=62129744&scoped=true&\"\nimport script from \"./Article.vue?vue&type=script&lang=js&\"\nexport * from \"./Article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&id=62129744&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62129744\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yeti-panel\",attrs:{\"role\":\"tabpanel\",\"id\":'panel' + _vm.index,\"aria-labelledby\":'tab' + _vm.index,\"hidden\":_vm.activeTab !== _vm.index}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"yeti-panel\"\n    role=\"tabpanel\"\n    :id=\"'panel' + index\"\n    :aria-labelledby=\"'tab' + index\"\n    :hidden=\"activeTab !== index\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    index: {\n      type: Number,\n      required: true,\n    },\n    activeTab: {\n      type: Number,\n      required: true,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\n::v-deep {\n  a:hover,\n  a:focus {\n    text-decoration: underline;\n  }\n\n  h4 {\n    margin-top: 1rem;\n    margin-bottom: 0.25rem !important;\n  }\n\n  abbr {\n    text-decoration: none;\n    border-bottom: dotted 2px #aaa;\n  }\n\n  strong,\n  dt {\n    font-weight: bold;\n    color: $grey-dark;\n  }\n\n  .yeti-subpanel + .yeti-subpanel {\n    margin-top: 2rem;\n  }\n\n  .content-ul {\n    list-style: disc outside;\n    margin-left: 2em;\n  }\n\n  .yetiform-info {\n    font-size: 0.8em;\n    opacity: 0.75;\n  }\n\n  .yetiform-note {\n    position: relative;\n    font-size: 0.9em;\n    padding: 1em;\n    padding-left: 4em;\n    margin-bottom: 2em;\n    background-color: $white-ter;\n    border-radius: 2px;\n  }\n\n  .yetiform-note::before {\n    content: '?';\n    position: absolute;\n    top: 1em;\n    left: 1em;\n    color: white;\n    font-size: 1.14em;\n    font-weight: bold;\n    text-align: center;\n    height: 1.375em;\n    width: 1.375em;\n    line-height: 1.4em;\n    background-color: rgba(0, 60, 136, 0.5);\n    border-radius: 2px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Panel.vue?vue&type=template&id=6a9ccc68&scoped=true&\"\nimport script from \"./Panel.vue?vue&type=script&lang=js&\"\nexport * from \"./Panel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Panel.vue?vue&type=style&index=0&id=6a9ccc68&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a9ccc68\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger level\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('div',{staticClass:\"inputs-bra\",class:{ 'inputs-bra-different': _vm.bra.isDifferent }},[_c('svg',{attrs:{\"viewBox\":\"0 0 100 100\",\"width\":\"120\",\"height\":\"120\"}},[_c('polygon',{staticStyle:{\"fill\":\"none\",\"stroke\":\"#000\",\"stroke-miterlimit\":\"10\"},attrs:{\"points\":\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5 \"}}),_vm._v(\" \"),_c('line',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticStyle:{\"fill\":\"none\",\"stroke\":\"#000\",\"stroke-miterlimit\":\"10\"},attrs:{\"x1\":\"10\",\"y1\":\"61.5\",\"x2\":\"90\",\"y2\":\"61.5\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"input-bra-high select is-small\"},[_c('select',{attrs:{\"id\":\"selectBra\",\"aria-label\":_vm.$gettext('High danger level from the avalanche bulletin')},domProps:{\"value\":_vm.bra.high},on:{\"change\":function($event){return _vm.onChange($event, 'high')}}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":null}}),_vm._v(\" \"),_c('option',{domProps:{\"value\":1}},[_vm._v(\"1\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":2}},[_vm._v(\"2\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":3}},[_vm._v(\"3\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":4}},[_vm._v(\"4\")])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticClass:\"input-bra-threshold control\"},[_c('label',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"for\":\"inputThreshold\"}},[_vm._v(\"Altitude\")]),_vm._v(\" \"),_c('input',{staticClass:\"input is-small\",attrs:{\"id\":\"inputThreshold\",\"type\":\"number\",\"min\":\"0\",\"max\":\"4800\",\"step\":\"100\",\"maxlength\":\"4\"},domProps:{\"value\":_vm.bra.altiThreshold},on:{\"change\":function($event){return _vm.onChange($event, 'altiThreshold')}}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.bra.isDifferent),expression:\"bra.isDifferent\"}],staticClass:\"input-bra-low select is-small\"},[_c('select',{attrs:{\"aria-label\":\"$gettext('Low danger level from the avalanche bulletin')\"},domProps:{\"value\":_vm.bra.low},on:{\"change\":function($event){return _vm.onChange($event, 'low')}}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":null}}),_vm._v(\" \"),_c('option',{domProps:{\"value\":1}},[_vm._v(\"1\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":2}},[_vm._v(\"2\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":3}},[_vm._v(\"3\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":4}},[_vm._v(\"4\")])])])]),_vm._v(\" \"),_c('div',[_c('input-checkbox',{staticClass:\"control--bradifferent\",attrs:{\"value\":_vm.bra.isDifferent},on:{\"input\":function($event){return _vm.onChange($event, 'isDifferent')}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Different high/low danger?\")])])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"yetimountains\"},[_c('div',[_c('p',{staticClass:\"yetimountains-title\",on:{\"click\":function($event){_vm.showMountainsList = !_vm.showMountainsList}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Avalanche bulletins\")]),_vm._v(\" \"),(_vm.showVisibleMountains)?_c('counter',[_vm._v(_vm._s(_vm.countVisibleMountains))]):_vm._e(),_vm._v(\" \"),_c('fa-icon',{staticClass:\"yetimountains-arrow is-size-6 is-pulled-right has-cursor-pointer no-print\",attrs:{\"icon\":\"angle-down\",\"rotation\":_vm.showMountainsList ? 180 : undefined}})],1)]),_vm._v(\" \"),(_vm.showMountainsList)?_c('div',[(_vm.showVisibleMountains)?_c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"column yetiform-info\"},[_vm._v(\"Get avalanche bulletins from Mto-France website\")]),_vm._v(\" \"),_c('dl',_vm._l((_vm.mountains.visibleMountains),function(mountainsForMassif,massif){return _c('div',{key:massif},[_c('dt',{staticClass:\"yetimountains-listtitle\"},[_vm._v(\"\\n              \"+_vm._s(massif)+\"\\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"yetimountains-list\"},_vm._l((mountainsForMassif),function(mountain){return _c('dd',{key:mountain.title,staticClass:\"yetimountains-listelement\"},[_c('a',{attrs:{\"href\":mountain.urls[0].url,\"target\":\"_blank\"}},[_c('fa-icon',{attrs:{\"icon\":\"external-link-alt\"}}),_vm._v(\"\\n                  \"+_vm._s(mountain.title)+\"\\n                \")],1)])}),0)])}),0)]):_c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"column yetiform-info\"},[_vm._v(\"Massifs could not be loaded\")])])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"yeti-counter\",class:{ 'has-background-primary': _vm.isPrimary }},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"yeti-counter\" :class=\"{ 'has-background-primary': isPrimary }\">\n    <slot />\n  </span>\n</template>\n\n<script>\nexport default {\n  props: {\n    isPrimary: {\n      type: Boolean,\n      default: false,\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\n.yeti-counter {\n  display: inline-block;\n  width: 1.1rem;\n  height: 1.1rem;\n  vertical-align: 0.1rem;\n  margin-left: 0.25rem;\n  background: $grey-lighter;\n  color: $grey-darker;\n  border-radius: 50%;\n  font-size: 0.72em;\n  text-align: center;\n\n  &.has-background-primary {\n    color: $white;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Counter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Counter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Counter.vue?vue&type=template&id=79e0b738&scoped=true&\"\nimport script from \"./Counter.vue?vue&type=script&lang=js&\"\nexport * from \"./Counter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Counter.vue?vue&type=style&index=0&id=79e0b738&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79e0b738\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Danger level</span></sub-panel-title>\n    <div class=\"columns is-mobile\">\n      <div class=\"column\">\n        <div class=\"inputs-bra\" :class=\"{ 'inputs-bra-different': bra.isDifferent }\">\n          <svg viewBox=\"0 0 100 100\" width=\"120\" height=\"120\">\n            <polygon\n              style=\"fill: none; stroke: #000; stroke-miterlimit: 10\"\n              points=\"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5 \"\n            />\n            <line\n              v-show=\"bra.isDifferent\"\n              style=\"fill: none; stroke: #000; stroke-miterlimit: 10\"\n              x1=\"10\"\n              y1=\"61.5\"\n              x2=\"90\"\n              y2=\"61.5\"\n            />\n          </svg>\n          <div class=\"input-bra-high select is-small\">\n            <select\n              id=\"selectBra\"\n              @change=\"onChange($event, 'high')\"\n              :value=\"bra.high\"\n              :aria-label=\"$gettext('High danger level from the avalanche bulletin')\"\n            >\n              <option :value=\"null\" selected />\n              <option :value=\"1\">1</option>\n              <option :value=\"2\">2</option>\n              <option :value=\"3\">3</option>\n              <option :value=\"4\">4</option>\n            </select>\n          </div>\n          <div v-show=\"bra.isDifferent\" class=\"input-bra-threshold control\">\n            <label for=\"inputThreshold\" v-translate>Altitude</label>\n            <input\n              id=\"inputThreshold\"\n              class=\"input is-small\"\n              type=\"number\"\n              min=\"0\"\n              max=\"4800\"\n              step=\"100\"\n              maxlength=\"4\"\n              @change=\"onChange($event, 'altiThreshold')\"\n              :value=\"bra.altiThreshold\"\n            />\n          </div>\n\n          <div v-show=\"bra.isDifferent\" class=\"input-bra-low select is-small\">\n            <select\n              @change=\"onChange($event, 'low')\"\n              :value=\"bra.low\"\n              aria-label=\"$gettext('Low danger level from the avalanche bulletin')\"\n            >\n              <option :value=\"null\" selected />\n              <option :value=\"1\">1</option>\n              <option :value=\"2\">2</option>\n              <option :value=\"3\">3</option>\n              <option :value=\"4\">4</option>\n            </select>\n          </div>\n        </div>\n\n        <div>\n          <input-checkbox\n            @input=\"onChange($event, 'isDifferent')\"\n            :value=\"bra.isDifferent\"\n            class=\"control--bradifferent\"\n          >\n            <span v-translate>Different high/low danger?</span>\n          </input-checkbox>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"yetimountains\">\n      <div>\n        <p class=\"yetimountains-title\" @click=\"showMountainsList = !showMountainsList\">\n          <span v-translate>Avalanche bulletins</span>\n          <counter v-if=\"showVisibleMountains\">{{ countVisibleMountains }}</counter>\n          <fa-icon\n            class=\"yetimountains-arrow is-size-6 is-pulled-right has-cursor-pointer no-print\"\n            icon=\"angle-down\"\n            :rotation=\"showMountainsList ? 180 : undefined\"\n          />\n        </p>\n      </div>\n      <div v-if=\"showMountainsList\">\n        <div v-if=\"showVisibleMountains\">\n          <p class=\"column yetiform-info\" v-translate>Get avalanche bulletins from Mto-France website</p>\n          <dl>\n            <div v-for=\"(mountainsForMassif, massif) of mountains.visibleMountains\" :key=\"massif\">\n              <dt class=\"yetimountains-listtitle\">\n                {{ massif }}\n              </dt>\n              <div class=\"yetimountains-list\">\n                <dd class=\"yetimountains-listelement\" v-for=\"mountain of mountainsForMassif\" :key=\"mountain.title\">\n                  <a :href=\"mountain.urls[0].url\" target=\"_blank\">\n                    <fa-icon icon=\"external-link-alt\" />\n                    {{ mountain.title }}\n                  </a>\n                </dd>\n              </div>\n            </div>\n          </dl>\n        </div>\n        <div v-else>\n          <p class=\"column yetiform-info\" v-translate>Massifs could not be loaded</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Counter from '@/components/yeti/Counter.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\n\nexport default {\n  components: { Counter, SubPanelTitle },\n  props: {\n    bra: {\n      type: Object,\n      default: null,\n    },\n    mountains: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      showMountainsList: false,\n    };\n  },\n  computed: {\n    showVisibleMountains() {\n      return this.countVisibleMountains >= 0;\n    },\n    countVisibleMountains() {\n      // if visibleMountains are set\n      if (this.mountains.visibleMountains) {\n        return Object.values(this.mountains.visibleMountains).reduce((a, b) => a + b.length, 0);\n      }\n      // else, return -1 (because 0 is not an error)\n      return -1;\n    },\n  },\n  watch: {\n    'bra.isDifferent': 'checkBraIsDifferent',\n  },\n  methods: {\n    onChange(event, prop) {\n      const value = prop === 'isDifferent' ? event : event.target.value;\n      this.$emit('update:bra', Object.assign(this.bra, { [prop]: value }));\n    },\n\n    checkBraIsDifferent() {\n      if (!this.bra.isDifferent) {\n        this.bra.low = null;\n        this.bra.altiThreshold = null;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\n.inputs-bra {\n  margin-left: 2rem;\n  position: relative;\n\n  .input-bra-high {\n    position: absolute;\n    left: 39px;\n    top: 62px;\n  }\n\n  .input-bra-threshold {\n    position: absolute;\n    left: 115px;\n    top: 40px;\n    width: 85px;\n  }\n\n  .input-bra-low {\n    position: absolute;\n    left: 39px;\n    top: 78px;\n  }\n}\n\n.inputs-bra-different {\n  .input-bra-high {\n    top: 45px;\n  }\n}\n\n.yetimountains {\n  border: 1px solid #dbdbdb;\n  border-radius: 4px;\n\n  &:hover {\n    border-color: #b5b5b5;\n  }\n\n  &-title {\n    cursor: pointer;\n    padding: 0.25rem 0.75rem;\n  }\n\n  &-arrow {\n    color: $primary;\n    margin-top: 0.25rem;\n  }\n\n  &-list {\n    columns: 3 170px;\n    padding: 0.75rem 2rem;\n  }\n\n  &-listtitle {\n    font-weight: bold;\n    padding: 0 0.75rem;\n  }\n}\n\n.yetimountains-listelement + .yetimountains-listtitle {\n  margin-top: 0.5rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelBra.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelBra.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubPanelBra.vue?vue&type=template&id=df986eea&scoped=true&\"\nimport script from \"./SubPanelBra.vue?vue&type=script&lang=js&\"\nexport * from \"./SubPanelBra.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubPanelBra.vue?vue&type=style&index=0&id=df986eea&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df986eea\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Route\")])]),_vm._v(\" \"),(_vm.features.length)?_c('div',[_c('div',{staticClass:\"columns is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('p',{staticClass:\"features-title\"},[_c('icon-route',{staticClass:\"icon document-icon\"}),_vm._v(\" \"),_c('fa-icon',{staticClass:\"icon edit-icon\",attrs:{\"icon\":\"pen\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hasFeaturesTitle),expression:\"!hasFeaturesTitle\"},{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"features-title-text features-title-placeholder\",on:{\"click\":_vm.onEditNewFeaturesTitle}},[_vm._v(\"\\n            Add title\\n          \")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasFeaturesTitle),expression:\"hasFeaturesTitle\"}],ref:\"featuresTitle\",staticClass:\"features-title-text features-title-content\",attrs:{\"tabindex\":\"0\",\"contenteditable\":\"\",\"spellcheck\":\"false\"},on:{\"blur\":_vm.onEditFeaturesTitle,\"keypress\":function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }$event.preventDefault();}}},[_vm._v(_vm._s(_vm.featuresTitle))])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"column is-narrow\"},[_c('button',{staticClass:\"button is-secondary is-small\",on:{\"click\":_vm.onRemoveFeatures}},[_c('fa-icon',{staticClass:\"trash-icon\",attrs:{\"icon\":\"trash\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete route\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"ml-5 mb-5\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"yetiform-info is-italic is-marginless\"},[_vm._v(\"Lines chunks\")]),_vm._v(\" \"),_c('features-list',{attrs:{\"features\":_vm.features}})],1),_vm._v(\" \"),_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Export\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-vcentered is-mobile\"},[_c('div',{staticClass:\"column\"},[_c('ul',{staticClass:\"form-export\"},_vm._l((_vm.formats),function(type){return _c('li',{key:type,staticClass:\"control is-flex\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.format),expression:\"format\"}],staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'format' + type,\"type\":\"radio\",\"name\":\"exportFormat\"},domProps:{\"value\":type,\"checked\":_vm._q(_vm.format,type)},on:{\"change\":function($event){_vm.format=type}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":'format' + type}},[_vm._v(_vm._s(type))])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"column is-narrow\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",on:{\"click\":_vm.downloadCourse}},[_vm._v(\"Export route\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note mt-5\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Drawing tips\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Draw\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"new lines chunks\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Delete\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"last point with the Backspace key\")])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"On a drawn line\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Edit\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"points by moving them\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}],attrs:{\"translate-context\":\"yeti\"}},[_vm._v(\"Create\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"a new point on an existing line\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete a point\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"with Alt + clic\")])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"From the interface\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete a line chunk\")])]),_vm._v(\" \"),_c('li',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Delete route\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"to start or load a new one\")])])])])],1):_c('div',[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"No route right now\")]),_vm._v(\" \"),_c('div',{staticClass:\"load-gpx\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",class:{ 'is-loading': _vm.loading },attrs:{\"disabled\":_vm.loading},on:{\"click\":_vm.onLoadGpx}},[_vm._v(\"\\n        Upload a GPS track\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"control upload-button\"},[_c('input',{ref:\"gpxFileInput\",attrs:{\"type\":\"file\",\"accept\":\".gpx\"},on:{\"change\":_vm.uploadGpx}})]),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note mt-5\"},[_c('p',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Draw right on the map\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"to start a new route\")])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"featureslist\"},_vm._l((_vm.features),function(feature,i){return _c('li',{key:i,staticClass:\"featureslist-item tag\",on:{\"mouseenter\":function($event){return _vm.showFeature(feature)},\"mouseleave\":function($event){return _vm.hideFeature(feature)}}},[_c('span',[_vm._v(_vm._s(_vm.nbPointsOnFeature(feature))+\" points\")]),_vm._v(\" \"),_c('button',{staticClass:\"delete is-small\",on:{\"click\":function($event){return _vm.removeFeature(feature)}}},[_vm._v(\"x\")])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul class=\"featureslist\">\n    <li\n      v-for=\"(feature, i) of features\"\n      :key=\"i\"\n      class=\"featureslist-item tag\"\n      @mouseenter=\"showFeature(feature)\"\n      @mouseleave=\"hideFeature(feature)\"\n    >\n      <span>{{ nbPointsOnFeature(feature) }} points</span>\n      <button class=\"delete is-small\" @click=\"removeFeature(feature)\">x</button>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  inject: ['$yetix'],\n  props: {\n    features: {\n      type: Array,\n      required: true,\n    },\n  },\n  methods: {\n    removeFeature(feature) {\n      this.$yetix.$emit('removeFeature', feature);\n    },\n\n    showFeature(feature) {\n      feature.setStyle(feature.get('highlightedStyle'));\n    },\n\n    hideFeature(feature) {\n      feature.setStyle(feature.get('normalStyle'));\n    },\n\n    nbPointsOnFeature(feature) {\n      return feature.getGeometry().getCoordinates().length;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\n.featureslist {\n  margin: 0 -0.5rem;\n\n  &-item {\n    margin: 0.25rem;\n    font-size: 0.7em;\n\n    &:hover,\n    &:focus {\n      background: $grey-lighter;\n      cursor: default;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeaturesList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeaturesList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FeaturesList.vue?vue&type=template&id=54e4fe71&scoped=true&\"\nimport script from \"./FeaturesList.vue?vue&type=script&lang=js&\"\nexport * from \"./FeaturesList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FeaturesList.vue?vue&type=style&index=0&id=54e4fe71&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54e4fe71\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Route</span></sub-panel-title>\n    <div v-if=\"features.length\">\n      <div class=\"columns is-mobile\">\n        <div class=\"column\">\n          <p class=\"features-title\">\n            <icon-route class=\"icon document-icon\" />\n            <fa-icon icon=\"pen\" class=\"icon edit-icon\" />\n            <span\n              v-show=\"!hasFeaturesTitle\"\n              class=\"features-title-text features-title-placeholder\"\n              @click=\"onEditNewFeaturesTitle\"\n              v-translate\n            >\n              Add title\n            </span>\n            <span\n              v-show=\"hasFeaturesTitle\"\n              class=\"features-title-text features-title-content\"\n              ref=\"featuresTitle\"\n              tabindex=\"0\"\n              contenteditable\n              spellcheck=\"false\"\n              @blur=\"onEditFeaturesTitle\"\n              @keypress.13.prevent\n              >{{ featuresTitle }}</span\n            >\n          </p>\n        </div>\n        <div class=\"column is-narrow\">\n          <button class=\"button is-secondary is-small\" @click=\"onRemoveFeatures\">\n            <fa-icon icon=\"trash\" class=\"trash-icon\" />\n            <span v-translate>Delete route</span>\n          </button>\n        </div>\n      </div>\n      <div class=\"ml-5 mb-5\">\n        <p class=\"yetiform-info is-italic is-marginless\" v-translate>Lines chunks</p>\n        <features-list :features=\"features\" />\n      </div>\n      <sub-panel-title><span v-translate>Export</span></sub-panel-title>\n      <div class=\"columns is-vcentered is-mobile\">\n        <div class=\"column\">\n          <ul class=\"form-export\">\n            <li v-for=\"type of formats\" :key=\"type\" class=\"control is-flex\">\n              <input\n                :id=\"'format' + type\"\n                type=\"radio\"\n                name=\"exportFormat\"\n                class=\"is-checkradio is-primary\"\n                :value=\"type\"\n                v-model=\"format\"\n              />\n              <label :for=\"'format' + type\">{{ type }}</label>\n            </li>\n          </ul>\n        </div>\n        <div class=\"column is-narrow\">\n          <button class=\"button is-primary\" @click=\"downloadCourse\" v-translate>Export route</button>\n        </div>\n      </div>\n      <div class=\"yetiform-note mt-5\">\n        <p v-translate>Drawing tips</p>\n        <ul class=\"content-ul\">\n          <li><strong v-translate translate-context=\"yeti\">Draw</strong> <span v-translate>new lines chunks</span></li>\n          <li>\n            <strong v-translate translate-context=\"yeti\">Delete</strong>\n            <span v-translate>last point with the Backspace key</span>\n          </li>\n        </ul>\n        <p v-translate>On a drawn line</p>\n        <ul class=\"content-ul\">\n          <li>\n            <strong v-translate translate-context=\"yeti\">Edit</strong> <span v-translate>points by moving them</span>\n          </li>\n          <li>\n            <strong v-translate translate-context=\"yeti\">Create</strong>\n            <span v-translate>a new point on an existing line</span>\n          </li>\n          <li><strong v-translate>Delete a point</strong> <span v-translate>with Alt + clic</span></li>\n        </ul>\n        <p v-translate>From the interface</p>\n        <ul class=\"content-ul\">\n          <li><strong v-translate>Delete a line chunk</strong></li>\n          <li><strong v-translate>Delete route</strong> <span v-translate>to start or load a new one</span></li>\n        </ul>\n      </div>\n    </div>\n    <div v-else>\n      <p v-translate>No route right now</p>\n      <div class=\"load-gpx\">\n        <button\n          class=\"button is-primary\"\n          :class=\"{ 'is-loading': loading }\"\n          :disabled=\"loading\"\n          @click=\"onLoadGpx\"\n          v-translate\n        >\n          Upload a GPS track\n        </button>\n        <div class=\"control upload-button\">\n          <input ref=\"gpxFileInput\" type=\"file\" @change=\"uploadGpx\" accept=\".gpx\" />\n        </div>\n        <div class=\"yetiform-note mt-5\">\n          <p><strong v-translate>Draw right on the map</strong> <span v-translate>to start a new route</span></p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { format } from 'date-fns';\n\nimport FeaturesList from '@/components/yeti/FeaturesList.vue';\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\nimport ol from '@/js/libs/ol';\nimport utils from '@/js/utils';\n\nexport default {\n  components: { FeaturesList, SubPanelTitle },\n  inject: ['$yetix'],\n  props: {\n    features: {\n      type: Array,\n      default: null,\n    },\n    featuresTitle: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      newFeaturesTitle: false,\n      loading: false,\n      formats: ['GPX', 'KML'],\n      format: 'GPX',\n    };\n  },\n  computed: {\n    hasFeaturesTitle() {\n      return !(!this.featuresTitle.length && !this.newFeaturesTitle);\n    },\n  },\n  mounted() {\n    this.$yetix.$on('featuresTitle', (featuresTitle) => {\n      this.$emit('update:featuresTitle', featuresTitle);\n    });\n  },\n  methods: {\n    onEditFeaturesTitle(e) {\n      if (!e.target.innerText.length) {\n        this.newFeaturesTitle = false;\n      }\n      this.$emit('update:featuresTitle', e.target.innerText);\n    },\n\n    onEditNewFeaturesTitle() {\n      this.newFeaturesTitle = true;\n      this.$nextTick(() => {\n        this.$refs.featuresTitle.focus();\n      });\n    },\n\n    onLoadGpx() {\n      this.$refs.gpxFileInput.click();\n    },\n\n    onRemoveFeatures() {\n      if (confirm(this.$gettext('Confirm delete'))) {\n        this.$yetix.$emit('removeFeatures');\n      }\n    },\n\n    uploadGpx(event) {\n      this.loading = true;\n\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        this.loading = false;\n        this.$emit('gpx', reader.result);\n      };\n\n      reader.readAsText(event.target.files[0]);\n\n      // empty the input, because if user wan't to upload same trace\n      // change event is not fired\n      // and emit gpx event\n      this.$refs.gpxFileInput.value = '';\n      this.$emit('gpx', null);\n    },\n\n    downloadCourse() {\n      if (this.format === 'GPX') {\n        this.downloadFeatures(new ol.format.GPX(), '.gpx', 'application/gpx+xml');\n      } else if (this.format === 'KML') {\n        this.downloadFeatures(new ol.format.KML(), '.kml', 'application/vnd.google-earth.kml+xml');\n      }\n    },\n\n    downloadFeatures(olFormat, extension, mimetype) {\n      const features = this.features;\n      features[0].set('name', this.featuresTitle);\n\n      const filename = this.setFilename(extension);\n\n      const content = olFormat.writeFeatures(features, {\n        featureProjection: 'EPSG:3857',\n      });\n\n      utils.download(content, filename, mimetype + ';charset=utf-8');\n    },\n\n    setFilename(ext) {\n      return format(new Date(), 'yyyy-MM-dd_HH-mm-ss') + ext;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.features-title {\n  display: flex;\n  line-height: 1.4;\n\n  &-text {\n    min-width: 100px;\n    border: solid 1px transparent;\n    border-radius: 2px;\n    padding: 2px 2em 2px 2px;\n    box-decoration-break: clone;\n\n    &:hover,\n    &:focus {\n      border-color: #b5b5b5;\n    }\n  }\n\n  &-placeholder {\n    font-style: italic;\n  }\n\n  &-content {\n    font-weight: bold;\n  }\n}\n\n.icon {\n  margin-top: 2px;\n}\n\n.edit-icon {\n  order: 1;\n  opacity: 0;\n  margin-left: -1.5em;\n  pointer-events: none;\n  transform: scale(0.75);\n}\n\n.features-title:hover .edit-icon {\n  opacity: 0.75;\n}\n\n.document-icon {\n  margin-right: 3px;\n}\n\n.trash-icon {\n  margin-right: 3px;\n}\n\n.upload-button {\n  position: relative;\n}\n\ninput[type='file'] {\n  opacity: 0; /* invisible but it's there! */\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  cursor: pointer;\n}\n\n.load-gpx {\n  margin-top: 2rem;\n}\n\n.form-export {\n  display: flex;\n}\n\n.control {\n  align-items: center;\n\n  .is-checkradio[type='radio'] + label {\n    line-height: 1.2rem;\n  }\n}\n\n@media screen and (max-width: 350px) {\n  .form-export {\n    display: block;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelCourse.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelCourse.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubPanelCourse.vue?vue&type=template&id=2d69ab03&scoped=true&\"\nimport script from \"./SubPanelCourse.vue?vue&type=script&lang=js&\"\nexport * from \"./SubPanelCourse.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubPanelCourse.vue?vue&type=style&index=0&id=2d69ab03&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d69ab03\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yeti-subpanel\"},[_c('sub-panel-title',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Methods\")])]),_vm._v(\" \"),_c('div',{staticClass:\"columns is-mobile yetitabs\"},_vm._l((Object.keys(_vm.methods)),function(item){return _c('div',{key:item,staticClass:\"column yetitab\"},[_c('div',{staticClass:\"control yetitab-control\",class:{ 'yetitab-control--selected': _vm.method.type === item }},[_c('input',{staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'c2c-method-' + item,\"type\":\"radio\",\"name\":\"method\",\"disabled\":item === 'mrd' ? _vm.bra.high == 4 || _vm.bra.low == 4 : false},domProps:{\"value\":item,\"checked\":item === _vm.method.type},on:{\"change\":function($event){return _vm.onChange($event, 'type')}}}),_vm._v(\" \"),_c('label',{staticClass:\"yetitab-label\",attrs:{\"for\":'c2c-method-' + item},on:{\"click\":function($event){return _vm.warnAboutMethodBra(item)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.methods[item][0])+\"\\n          \"),_c('span',{staticClass:\"yetiform-info\"},[_vm._v(_vm._s(_vm.methods[item][1]))])])])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mrd'),expression:\"method.type == 'mrd'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Beginner Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRD), you do not have to enter any parameters other than the danger level(s) given by the avalanche bulletin.\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        As the name suggests, this method is intended for beginners. Therefore, the safety margin must be particularly\\n        important. No parameter other than the danger level is specified. Orientation is ignored.\\n      \")])]),_vm._v(\" \"),_c('table',{staticClass:\"yetiform-danger\"},[_c('tr',[_vm._m(0),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - low\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 40\")])]),_vm._v(\" \"),_c('tr',[_vm._m(1),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - moderate\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 35\")])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(2),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - considerable\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 30\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(3),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - high to very high\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I choose to cancel the outing\")])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mre'),expression:\"method.type == 'mre'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Elementary Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRE), you can enter the sectors of the compass rose that are reported as critical in the avalanche bulletin.\\n      \")])]),_vm._v(\" \"),_c('input-orientation',{staticClass:\"has-text-centered\",attrs:{\"value\":_vm.method.orientation},on:{\"input\":function($event){return _vm.onChange($event, 'orientation')}}}),_vm._v(\" \"),(_vm.method.orientation.length != 0)?_c('p',{staticClass:\"yetiform-info\"},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr1\"},[_vm._v(\"Orientations\")]),_vm._v(\": \"+_vm._s(_vm.method.orientation.join(', '))+\"\\n    \")]):_c('p',{staticClass:\"yetiform-info\"},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr2\"},[_vm._v(\"No orientation selected\")])]),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        Danger level from the avalanche bulletin applies to all orientations. The compass rose distinguishes the most\\n        critical sectors presenting an increased risk.\\n      \")])]),_vm._v(\" \"),_c('table',{staticClass:\"yetiform-danger\"},[_c('tr',{staticClass:\"multiline\"},[_vm._m(4),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - low\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Stay careful while skiing\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"risk of a rough fall on hard snow\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(5),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - moderate\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 40\")])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(6),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - considerable\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 35\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',{staticClass:\"multiline\"},[_vm._m(7),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - high\")])]),_vm._v(\" \"),_c('td',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I must not use slopes > 30\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('small',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"including dominant slopes\")])])]),_vm._v(\" \"),_c('tr',[_vm._m(8),_vm._v(\" \"),_c('td',[_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger rating - very high\")])]),_vm._v(\" \"),_c('td',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"I choose to cancel the outing\")])])])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.method.type == 'mrp'),expression:\"method.type == 'mrp'\"}]},[_c('p',[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"With the\")]),_vm._v(\" \"),_c('strong',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Professional Reduction Method\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        (MRP), you can refine the hazard potential, set group size and any precautionary measures being considered.\\n      \")])]),_vm._v(\" \"),_c('h3',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-3\"},[_vm._v(\"Hazard potential\")]),_vm._v(\" \"),_c('ul',{staticClass:\"potential-danger-labels has-text-black\"},_vm._l((_vm.potentialDangerLabels),function(label){return _c('li',{key:label.text,staticClass:\"potential-danger-label is-size-5\",attrs:{\"disabled\":!_vm.bra.high || label.text < _vm.potentialDangerOptions.min || label.text > _vm.potentialDangerOptions.max,\"selected\":_vm.method.potentialDanger == label.text},on:{\"click\":function($event){return _vm.onChange(label.text, 'potentialDanger')}}},[_c('span',{class:{ 'is-size-3 has-text-weight-bold': label.val }},[_vm._v(\"\\n          \"+_vm._s(label.text)+\"\\n        \")])])}),0),_vm._v(\" \"),(_vm.method.potentialDanger)?_c('p',{staticClass:\"yetiform-info\"},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr1\"},[_vm._v(\"Hazard potential:\")]),_vm._v(\"\\n      \"+_vm._s(_vm.method.potentialDanger)+\"\\n      (\"),_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Danger level:\")]),_vm._v(\" \"+_vm._s(_vm.bra.high)+\")\\n    \")]):_c('p',{staticClass:\"yetiform-info\"},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}],key:\"tr2\"},[_vm._v(\"No selected hazard potential. Set danger level first.\")])]),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n        The hazard potential is calculated from the danger level of the avalanche bulletin. It can be fine-tuned by\\n        selecting a potential within the danger levels corresponding range. For example: the avalanche bulletin\\n        evokes a danger 3 just after a period in danger 4. We can then indicate a hazard potential of 12 instead of 8.\\n      \")])]),_vm._v(\" \"),_c('p',[_c('input-checkbox',{attrs:{\"value\":_vm.method.wetSnow},on:{\"input\":function($event){return _vm.onChange($event, 'wetSnow')}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Wet snow: orientation not taken into account\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Be careful, in wet snow, no factor to reduce orientation or attendance can be applied.\")])]),_vm._v(\" \"),_c('h3',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"title is-3\"},[_vm._v(\"Group\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.groupSizes),function(item,i){return _c('li',{key:i,staticClass:\"control\"},[_c('input',{staticClass:\"is-checkradio is-primary\",attrs:{\"id\":'c2c-group-size-' + i,\"type\":\"radio\",\"name\":\"groupSize\"},domProps:{\"value\":item.value,\"checked\":item.value === _vm.method.groupSize},on:{\"change\":function($event){return _vm.onChange($event, 'groupSize')}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":'c2c-group-size-' + i}},[_vm._v(_vm._s(item.text))])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"yetiform-note\"},[_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Group size\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Large group = 5 people and more\")]),_vm._v(\" \"),_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Small group = 2 to 4 people\")])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Load shedding distance\")]),_vm._v(\" \"),_c('ul',{staticClass:\"content-ul\"},[_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"10 meters minimum while ascending\")]),_vm._v(\" \"),_c('li',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"50 meters while descending\")])])]),_vm._v(\" \"),_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"\\n      The slope traveled frequently factor is not taken into account by the application, as it is often difficult to\\n      ascertain when preparing for an outing.\\n    \")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level1\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level2\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level3\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level1\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level2\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level3\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('td',[_c('img',{attrs:{\"src\":require(\"@/assets/img/yeti/levels-danger.svg\") + \"#level4\",\"loading\":\"lazy\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"yeti-subpanel\">\n    <sub-panel-title><span v-translate>Methods</span></sub-panel-title>\n    <div class=\"columns is-mobile yetitabs\">\n      <div v-for=\"item of Object.keys(methods)\" :key=\"item\" class=\"column yetitab\">\n        <div class=\"control yetitab-control\" :class=\"{ 'yetitab-control--selected': method.type === item }\">\n          <input\n            :id=\"'c2c-method-' + item\"\n            type=\"radio\"\n            name=\"method\"\n            class=\"is-checkradio is-primary\"\n            :value=\"item\"\n            :checked=\"item === method.type\"\n            :disabled=\"item === 'mrd' ? bra.high == 4 || bra.low == 4 : false\"\n            @change=\"onChange($event, 'type')\"\n          />\n          <label :for=\"'c2c-method-' + item\" class=\"yetitab-label\" @click=\"warnAboutMethodBra(item)\">\n            {{ methods[item][0] }}\n            <span class=\"yetiform-info\">{{ methods[item][1] }}</span>\n          </label>\n        </div>\n      </div>\n    </div>\n\n    <div v-show=\"method.type == 'mrd'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Beginner Reduction Method</strong>\n        <span v-translate>\n          (MRD), you do not have to enter any parameters other than the danger level(s) given by the avalanche bulletin.\n        </span>\n      </p>\n      <div class=\"yetiform-note\">\n        <p v-translate>\n          As the name suggests, this method is intended for beginners. Therefore, the safety margin must be particularly\n          important. No parameter other than the danger level is specified. Orientation is ignored.\n        </p>\n      </div>\n\n      <table class=\"yetiform-danger\">\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level1\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - low</strong></td>\n          <td v-translate>I must not use slopes > 40</td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level2\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - moderate</strong></td>\n          <td v-translate>I must not use slopes > 35</td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level3\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - considerable</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 30</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - high to very high</strong></td>\n          <td v-translate>I choose to cancel the outing</td>\n        </tr>\n      </table>\n    </div>\n\n    <div v-show=\"method.type == 'mre'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Elementary Reduction Method</strong>\n        <span v-translate>\n          (MRE), you can enter the sectors of the compass rose that are reported as critical in the avalanche bulletin.\n        </span>\n      </p>\n\n      <input-orientation\n        :value=\"method.orientation\"\n        @input=\"onChange($event, 'orientation')\"\n        class=\"has-text-centered\"\n      />\n\n      <p v-if=\"method.orientation.length != 0\" class=\"yetiform-info\">\n        <span v-translate key=\"tr1\">Orientations</span>: {{ method.orientation.join(', ') }}\n      </p>\n      <p v-else class=\"yetiform-info\">\n        <span v-translate key=\"tr2\">No orientation selected</span>\n      </p>\n\n      <div class=\"yetiform-note\">\n        <p v-translate>\n          Danger level from the avalanche bulletin applies to all orientations. The compass rose distinguishes the most\n          critical sectors presenting an increased risk.\n        </p>\n      </div>\n\n      <table class=\"yetiform-danger\">\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level1\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - low</strong></td>\n          <td>\n            <span v-translate>Stay careful while skiing</span>\n            <br />\n            <small v-translate>risk of a rough fall on hard snow</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level2\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - moderate</strong></td>\n          <td v-translate>I must not use slopes > 40</td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level3\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - considerable</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 35</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr class=\"multiline\">\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - high</strong></td>\n          <td>\n            <span v-translate>I must not use slopes > 30</span>\n            <br />\n            <small v-translate>including dominant slopes</small>\n          </td>\n        </tr>\n        <tr>\n          <td><img src=\"@/assets/img/yeti/levels-danger.svg#level4\" loading=\"lazy\" /></td>\n          <td><strong v-translate>Danger rating - very high</strong></td>\n          <td v-translate>I choose to cancel the outing</td>\n        </tr>\n      </table>\n    </div>\n\n    <div v-show=\"method.type == 'mrp'\">\n      <p>\n        <span v-translate>With the</span>\n        <strong v-translate>Professional Reduction Method</strong>\n        <span v-translate>\n          (MRP), you can refine the hazard potential, set group size and any precautionary measures being considered.\n        </span>\n      </p>\n\n      <h3 class=\"title is-3\" v-translate>Hazard potential</h3>\n      <ul class=\"potential-danger-labels has-text-black\">\n        <li\n          v-for=\"label of potentialDangerLabels\"\n          :key=\"label.text\"\n          :disabled=\"!bra.high || label.text < potentialDangerOptions.min || label.text > potentialDangerOptions.max\"\n          :selected=\"method.potentialDanger == label.text\"\n          class=\"potential-danger-label is-size-5\"\n          @click=\"onChange(label.text, 'potentialDanger')\"\n        >\n          <span :class=\"{ 'is-size-3 has-text-weight-bold': label.val }\">\n            {{ label.text }}\n          </span>\n        </li>\n      </ul>\n\n      <p v-if=\"method.potentialDanger\" class=\"yetiform-info\">\n        <span v-translate key=\"tr1\">Hazard potential:</span>\n        {{ method.potentialDanger }}\n        (<span v-translate>Danger level:</span> {{ bra.high }})\n      </p>\n      <p v-else class=\"yetiform-info\">\n        <span v-translate key=\"tr2\">No selected hazard potential. Set danger level first.</span>\n      </p>\n\n      <div class=\"yetiform-note\">\n        <p v-translate>\n          The hazard potential is calculated from the danger level of the avalanche bulletin. It can be fine-tuned by\n          selecting a potential within the danger levels corresponding range. For example: the avalanche bulletin\n          evokes a danger 3 just after a period in danger 4. We can then indicate a hazard potential of 12 instead of 8.\n        </p>\n      </div>\n\n      <p>\n        <input-checkbox :value=\"method.wetSnow\" @input=\"onChange($event, 'wetSnow')\">\n          <span v-translate>Wet snow: orientation not taken into account</span>\n        </input-checkbox>\n      </p>\n\n      <div class=\"yetiform-note\">\n        <p v-translate>Be careful, in wet snow, no factor to reduce orientation or attendance can be applied.</p>\n      </div>\n\n      <h3 class=\"title is-3\" v-translate>Group</h3>\n\n      <ul>\n        <li class=\"control\" v-for=\"(item, i) of groupSizes\" :key=\"i\">\n          <input\n            :id=\"'c2c-group-size-' + i\"\n            type=\"radio\"\n            name=\"groupSize\"\n            class=\"is-checkradio is-primary\"\n            :value=\"item.value\"\n            :checked=\"item.value === method.groupSize\"\n            @change=\"onChange($event, 'groupSize')\"\n          />\n          <label :for=\"'c2c-group-size-' + i\">{{ item.text }}</label>\n        </li>\n      </ul>\n\n      <div class=\"yetiform-note\">\n        <p v-translate>Group size</p>\n        <ul class=\"content-ul\">\n          <li v-translate>Large group = 5 people and more</li>\n          <li v-translate>Small group = 2 to 4 people</li>\n        </ul>\n        <p v-translate>Load shedding distance</p>\n        <ul class=\"content-ul\">\n          <li v-translate>10 meters minimum while ascending</li>\n          <li v-translate>50 meters while descending</li>\n        </ul>\n      </div>\n\n      <p v-translate>\n        The slope traveled frequently factor is not taken into account by the application, as it is often difficult to\n        ascertain when preparing for an outing.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SubPanelTitle from '@/components/yeti/SubPanelTitle.vue';\n\nconst DANGER = {\n  min: 1,\n  max: 16,\n  bra: [\n    { min: 1, max: 2, val: 2 },\n    { min: 3, max: 6, val: 4 },\n    { min: 6, max: 12, val: 8 },\n    { min: 13, max: 16, val: 16 },\n  ],\n};\n\nexport default {\n  components: { SubPanelTitle },\n  props: {\n    method: {\n      type: Object,\n      default: null,\n    },\n    bra: {\n      type: Object,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      methods: {\n        mrd: ['MRD', this.$gettext('Beginner')],\n        mre: ['MRE', this.$gettext('Elementary')],\n        mrp: ['MRP', this.$gettext('Expert')],\n      },\n      groupSizes: [\n        {\n          value: 1,\n          text: this.$gettext('No reduction factor'),\n        },\n        {\n          value: 2.1,\n          text: this.$gettext('Large group with load shedding distance'),\n        },\n        {\n          value: 2.2,\n          text: this.$gettext('Small group without distance'),\n        },\n        {\n          value: 3,\n          text: this.$gettext('Small group with load shedding distance'),\n        },\n      ],\n    };\n  },\n  computed: {\n    potentialDangerLabels() {\n      const result = [];\n      for (let i = DANGER.min; i <= DANGER.max; i++) {\n        const data = { text: i };\n        if (i === 2 || i === 4 || i === 8 || i === 16) {\n          data.val = i;\n        }\n        result.push(data);\n      }\n\n      return result;\n    },\n    potentialDangerOptions() {\n      if (!this.bra.high) {\n        return { val: undefined, min: 1, max: 16 };\n      }\n\n      return DANGER.bra[this.bra.high - 1];\n    },\n  },\n  watch: {\n    'bra.high': 'onBraChange',\n  },\n  methods: {\n    onChange(event, prop) {\n      let value = null;\n      if (prop === 'orientation' || prop === 'wetSnow' || prop === 'potentialDanger') {\n        value = event;\n      } else {\n        value = event.target.value;\n      }\n      this.$emit('update:method', Object.assign(this.method, { [prop]: value }));\n    },\n    warnAboutMethodBra(item) {\n      this.$emit('warn-about-method-bra', item);\n    },\n    onBraChange() {\n      this.onChange(this.potentialDangerOptions.val, 'potentialDanger');\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\np:not(:last-child),\nul:not(:last-child),\ntable:not(:last-child) {\n  margin-bottom: 1rem;\n}\n\n.yetiform-danger {\n  width: 100%;\n  table-layout: fixed;\n  color: $dark;\n  background-color: $white-ter;\n\n  tr {\n    border: 1px solid $white;\n    border-left: 0;\n    border-right: 0;\n  }\n\n  td {\n    vertical-align: middle;\n    height: 45px;\n  }\n\n  .multiline td {\n    vertical-align: baseline;\n  }\n\n  td:first-child {\n    width: 60px;\n  }\n\n  td:first-child + td {\n    width: 40%;\n  }\n\n  td img {\n    vertical-align: -12px;\n    height: 35px;\n  }\n}\n\n.yetitabs {\n  margin: 0;\n  padding: 0.75rem 0;\n}\n\n.yetitab {\n  padding: 0;\n}\n\n.yetitab-control {\n  .yetitab-label {\n    display: block;\n    margin: 0;\n    padding: 0.25rem;\n    padding-left: 2rem;\n    border: 1px solid transparent;\n    border-radius: 4px;\n\n    &:hover,\n    &:focus {\n      border-color: $grey-lighter;\n    }\n\n    &.yetitab-label:before {\n      top: 0.25rem !important;\n      left: 0.25rem !important;\n    }\n    &.yetitab-label:after {\n      top: 1em !important;\n      left: 1em !important;\n    }\n  }\n\n  .is-checkradio:checked + label:after {\n    top: 0.25rem !important;\n    left: 0.25rem !important;\n  }\n}\n\n.yetitab-control--selected {\n  .yetitab-label {\n    color: $primary;\n    border-color: $primary;\n\n    &:hover,\n    &:focus {\n      border-color: $primary;\n    }\n  }\n}\n\n@media screen and (max-width: 490px),\n  screen and (min-width: $tablet) and (max-width: 970px),\n  screen and (min-width: $desktop) and (max-width: 1180px),\n  screen and (min-width: $widescreen) and (max-width: 1370px),\n  screen and (min-width: $fullhd) and (max-width: 1650px) {\n  .yetitabs {\n    flex-wrap: wrap;\n  }\n  .yetitab {\n    flex: 0 0 50%;\n  }\n  .yetiform-danger {\n    tr,\n    td {\n      display: block;\n    }\n    tr {\n      padding: 0.5em 0;\n    }\n    td:first-child {\n      float: left;\n    }\n    td:first-child ~ td {\n      height: auto;\n      width: calc(100% - 60px);\n      margin-left: 60px;\n    }\n  }\n}\n\n.potential-danger-labels {\n  display: flex;\n  align-items: stretch;\n  user-select: none;\n  background: linear-gradient(\n    to right,\n    #bfe12b,\n    #bfe12b 12%,\n    #fff200 20%,\n    #fff200 32%,\n    #f68712 40%,\n    #f68712 72%,\n    #ed1c24 80%,\n    #ed1c24 95%,\n    #c01a2c\n  );\n\n  .potential-danger-label {\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex: 1 1 20px;\n    text-align: center;\n    border: 3px solid transparent;\n\n    &[disabled] {\n      cursor: not-allowed;\n      pointer-events: none;\n      background-color: rgba(255, 255, 255, 0.8);\n      color: grey;\n    }\n\n    &[selected] {\n      border-color: black;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelMethods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelMethods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubPanelMethods.vue?vue&type=template&id=b13e18f2&scoped=true&\"\nimport script from \"./SubPanelMethods.vue?vue&type=script&lang=js&\"\nexport * from \"./SubPanelMethods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SubPanelMethods.vue?vue&type=style&index=0&id=b13e18f2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b13e18f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column pb-0 mb-0 tabs is-boxed yetitabs\"},[_c('ul',{attrs:{\"role\":\"tablist\"}},_vm._l((_vm.tabs),function(tab,i){return _c('li',{key:tab,class:{ 'is-active': _vm.activeTab === i },attrs:{\"role\":\"presentation\"}},[_c('a',{ref:\"tab\",refInFor:true,staticClass:\"yetitabs-link\",attrs:{\"role\":\"tab\",\"href\":'#panel' + i,\"id\":'tab' + i,\"aria-selected\":_vm.activeTab === i,\"tabindex\":_vm.activeTab === i ? false : -1},on:{\"click\":function($event){$event.preventDefault();return _vm.setActiveTab(i)},\"keydown\":function($event){return _vm.setActiveTabKeyboard($event, i)}}},[_vm._v(\"\\n        \"+_vm._s(tab)+\" \"),(i === 1 && _vm.hasFeatures)?_c('counter',{attrs:{\"is-primary\":\"\"}},[_vm._v(\"1\")]):_vm._e()],1)])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"column pb-0 mb-0 tabs is-boxed yetitabs\">\n    <ul role=\"tablist\">\n      <li v-for=\"(tab, i) in tabs\" role=\"presentation\" :key=\"tab\" :class=\"{ 'is-active': activeTab === i }\">\n        <a\n          class=\"yetitabs-link\"\n          role=\"tab\"\n          :href=\"'#panel' + i\"\n          :id=\"'tab' + i\"\n          ref=\"tab\"\n          :aria-selected=\"activeTab === i\"\n          :tabindex=\"activeTab === i ? false : -1\"\n          @click.prevent=\"setActiveTab(i)\"\n          @keydown=\"setActiveTabKeyboard($event, i)\"\n        >\n          {{ tab }} <counter is-primary v-if=\"i === 1 && hasFeatures\">1</counter>\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport Counter from '@/components/yeti/Counter.vue';\nexport default {\n  components: { Counter },\n  props: {\n    tabs: {\n      type: Array,\n      required: true,\n    },\n    activeTab: {\n      type: Number,\n      required: true,\n    },\n    hasFeatures: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    setActiveTab(index) {\n      // focus active tab\n      this.$refs.tab[index].focus();\n      // then set\n      this.$emit('update:activeTab', index);\n    },\n\n    setActiveTabKeyboard(event, index) {\n      // Set arrow keys: left/right = switch active tabs / down = focus panel\n      const ARROW_LEFT = 37;\n      const ARROW_RIGHT = 39;\n      const ARROW_DOWN = 40;\n      let dir =\n        event.which === ARROW_LEFT\n          ? index - 1\n          : event.which === ARROW_RIGHT\n          ? index + 1\n          : event.which === ARROW_DOWN\n          ? 'down'\n          : null;\n\n      if (dir !== null) {\n        event.preventDefault();\n\n        // If the down key is pressed, move focus to the open panel,\n        // otherwise switch to the adjacent tab\n        dir === 'down'\n          ? this.$parent.$refs['panel' + index].$el.focus()\n          : this.tabs[dir]\n          ? this.setActiveTab(dir)\n          : void 0;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.yetitabs {\n  margin: 0 0 0 -1px !important;\n  overflow: visible;\n\n  &-link {\n    font-size: 0.9em;\n    padding: 0.25em 1em;\n  }\n\n  li,\n  a {\n    height: 100%;\n  }\n\n  li {\n    margin-right: 1px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tabs.vue?vue&type=template&id=c6260810&scoped=true&\"\nimport script from \"./Tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./Tabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tabs.vue?vue&type=style&index=0&id=c6260810&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c6260810\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column has-text-right\"},[_c('button',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"button is-primary\",class:{ 'is-loading': _vm.loading },attrs:{\"disabled\":_vm.loading,\"tabindex\":_vm.tabindex},on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._v(\"\\n      Compute risk\\n    \")]),_vm._v(\" \"),(_vm.currentError)?_c('p',{staticClass:\"yetiform-error\"},[_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.currentError)+\"\\n      \")])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"columns\">\n    <div class=\"column has-text-right\">\n      <button\n        class=\"button is-primary\"\n        :class=\"{ 'is-loading': loading }\"\n        :disabled=\"loading\"\n        :tabindex=\"tabindex\"\n        @click=\"$emit('click')\"\n        v-translate\n      >\n        Compute risk\n      </button>\n      <p class=\"yetiform-error\" v-if=\"currentError\">\n        <span>\n          {{ currentError }}\n        </span>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    currentError: {\n      type: String,\n      default: '',\n    },\n    loading: {\n      type: [Promise, Object],\n      default: null,\n    },\n    tabindex: {\n      type: String,\n      default: '0',\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.yetiform-error {\n  font-size: 0.8em;\n  font-style: italic;\n  margin-top: 10px;\n  text-align: right;\n  opacity: 0.75;\n\n  span::before {\n    content: 'i';\n    display: inline-block;\n    width: 1rem;\n    height: 1rem;\n    background: rgba(0, 60, 136, 0.5);\n    color: #fff;\n    border-radius: 50%;\n    font-size: 0.71rem;\n    font-weight: bold;\n    text-align: center;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidationButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidationButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ValidationButton.vue?vue&type=template&id=ad96ba08&scoped=true&\"\nimport script from \"./ValidationButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ValidationButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ValidationButton.vue?vue&type=style&index=0&id=ad96ba08&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad96ba08\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column map-container\"},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('div',{ref:\"map\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},on:{\"click\":function($event){_vm.showLayerSwitcher = false}}}),_vm._v(\" \"),_c('yeti-layer',{attrs:{\"data\":_vm.yetiData,\"extent\":_vm.yetiExtent}}),_vm._v(\" \"),_c('route-layer',{attrs:{\"active\":_vm.activeTab === 0,\"features\":_vm.features,\"gpx\":_vm.gpx,\"valid-min-zoom\":_vm.validMinZoom},on:{\"interaction\":_vm.addInteraction}}),_vm._v(\" \"),_c('div',{ref:\"layerSwitcherButton\",staticClass:\"ol-control ol-control-layer-switcher-button\",attrs:{\"title\":_vm.$gettext('Layers', 'Map controls')}},[_c('button',{on:{\"click\":function($event){$event.stopPropagation();_vm.showLayerSwitcher = !_vm.showLayerSwitcher}}},[_c('fa-icon',{attrs:{\"icon\":\"layer-group\"}})],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLayerSwitcher),expression:\"showLayerSwitcher\"}],ref:\"layerSwitcher\",staticClass:\"ol-control ol-control-layer-switcher\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',[_c('header',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Base layer\")]),_vm._v(\" \"),_vm._l((_vm.cartoLayers),function(layer){return _c('div',{key:layer.get('title'),on:{\"click\":function($event){_vm.visibleCartoLayer = layer}}},[_c('input',{attrs:{\"type\":\"radio\"},domProps:{\"checked\":layer == _vm.visibleCartoLayer}}),_vm._v(\"\\n          \"+_vm._s(_vm.$gettext(layer.get('title'), 'Map layer'))+\"\\n        \")])})],2),_vm._v(\" \"),_c('div',[_c('header',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Slopes\")]),_vm._v(\" \"),_vm._l((_vm.dataLayers),function(layer){return _c('div',{key:layer.get('title'),on:{\"click\":function($event){return _vm.toggleMapDataLayer(layer)}}},[_c('input',{attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":layer.getVisible()}}),_vm._v(\"\\n          \"+_vm._s(_vm.$gettext(layer.get('title'), 'Map slopes layer'))+\"\\n        \")])})],2)]),_vm._v(\" \"),_c('div',{ref:\"recenterOnControl\",staticClass:\"ol-control ol-control-recenter-on\"},[_c('input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.$gettext('Recenter on...')},on:{\"input\":_vm.searchRecenterPropositions}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRecenterOnPropositions),expression:\"showRecenterOnPropositions\"}],ref:\"recenterOnPropositions\",staticClass:\"ol-control ol-control-recenter-on-propositions\"},[(_vm.recenterPropositions && _vm.recenterPropositions.data && _vm.recenterPropositions.data.features)?_c('ul',_vm._l((_vm.recenterPropositions.data.features),function(item,i){return _c('li',{key:i,on:{\"click\":function($event){return _vm.recenterOn(item)}}},[_vm._v(\"\\n          \"+_vm._s(item.properties.name)+\",\\n          \"),_c('small',[_vm._v(_vm._s(item.properties.state)+\", \"+_vm._s(item.properties.country))])])}),0):_vm._e()])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  computed: {\n    map() {\n      // store parent map\n      return this.$parent.map;\n    },\n    view() {\n      return this.map.getView();\n    },\n  },\n};\n","<script>\nimport layerMixin from './layer';\n\nimport c2c from '@/js/apis/c2c';\nimport ol from '@/js/libs/ol';\n\nconst normalLineStyle = new ol.style.Style({\n  stroke: new ol.style.Stroke({\n    color: 'green',\n    width: 3,\n  }),\n});\n\nconst highlightedLineStyle = [\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'rgba(255, 255, 0, .5)',\n      width: 8,\n    }),\n    zIndex: 1,\n  }),\n  new ol.style.Style({\n    stroke: new ol.style.Stroke({\n      color: 'white',\n      width: 3,\n    }),\n    zIndex: 1,\n  }),\n];\n\nexport default {\n  mixins: [layerMixin],\n  inject: ['$yetix'],\n  props: {\n    active: {\n      type: Boolean,\n      required: true,\n    },\n    features: {\n      type: Array,\n      required: true,\n    },\n    gpx: {\n      type: String,\n      default: null,\n    },\n    validMinZoom: {\n      type: Number,\n      required: true,\n    },\n  },\n  watch: {\n    active() {\n      if (this.active) {\n        this.drawInteraction.setActive(false);\n        this.modifyInteraction.setActive(false);\n        this.snapInteraction.setActive(false);\n      } else {\n        this.drawInteraction.setActive(true);\n        this.modifyInteraction.setActive(true);\n        this.snapInteraction.setActive(true);\n      }\n    },\n    gpx() {\n      if (this.gpx) {\n        this.addFeaturesFromGpx(this.gpx);\n      }\n    },\n  },\n  mounted() {\n    // features layer\n    this.featuresLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: normalLineStyle,\n    });\n    this.featuresLayerSource = this.featuresLayer.getSource();\n\n    this.map.addLayer(this.featuresLayer);\n\n    // load camptocamp document\n    const doc = this.$route.params.document_id;\n    const lang = this.$language.current;\n    if (doc) {\n      c2c['route'].getCooked(doc, lang).then(this.addFeaturesFromDocument);\n    }\n\n    // features events (added feature)\n    this.featuresLayerSource.on('addfeature', this.onFeature);\n\n    this.addInteractions();\n\n    this.$yetix.$on('removeFeature', this.removeFeature);\n    this.$yetix.$on('removeFeatures', this.removeFeatures);\n  },\n  methods: {\n    addInteractions() {\n      const source = this.featuresLayerSource;\n\n      this.modifyInteraction = new ol.interaction.Modify({ source });\n      this.map.addInteraction(this.modifyInteraction);\n\n      this.drawInteraction = new ol.interaction.Draw({\n        source,\n        type: 'LineString',\n      });\n      this.map.addInteraction(this.drawInteraction);\n\n      this.snapInteraction = new ol.interaction.Snap({ source });\n      this.map.addInteraction(this.snapInteraction);\n\n      this.drawInteraction.on('drawstart', this.onDrawStart);\n      this.drawInteraction.on('drawend', this.onDrawEnd);\n      this.modifyInteraction.on('modifyend', this.onModifyEnd);\n\n      this.drawInteraction.setActive(false);\n      this.modifyInteraction.setActive(false);\n      this.snapInteraction.setActive(false);\n    },\n\n    onDrawStart() {\n      document.addEventListener('keydown', this.onKeyWhileDrawing);\n      document.addEventListener('keypress', this.onKeyWhileDrawing);\n    },\n\n    onDrawEnd() {\n      document.removeEventListener('keydown', this.onKeyWhileDrawing);\n      document.removeEventListener('keypress', this.onKeyWhileDrawing);\n    },\n\n    onModifyEnd() {\n      this.emitFeaturesEvent();\n    },\n\n    onKeyWhileDrawing(event) {\n      event.preventDefault();\n      // backspace key\n      if (event.key === 'Backspace') {\n        this.drawInteraction.removeLastPoint();\n      }\n    },\n\n    onFeature(event) {\n      // set features styles\n      event.feature.set('highlightedStyle', highlightedLineStyle);\n      // emit new features, only in normal case (drawing)\n      // not in gpx/document case (prevent multiple update for each lines)\n      if (!this.loadingExternalFeatures) {\n        this.emitFeaturesEvent();\n      }\n    },\n\n    emitFeaturesEvent() {\n      // updates features\n      const features = this.getFeaturesLayerFeatures();\n      this.$yetix.$emit('features', features);\n\n      if (features.length === 0) {\n        this.featuresTitleFromSource = null;\n\n        // if user come from a document url, remove url\n        if (this.$route.params.document_id) {\n          this.$router.replace({ path: '/' + this.$route.name });\n        }\n      }\n    },\n\n    getFeaturesLayerFeatures() {\n      return this.featuresLayerSource.getFeatures();\n    },\n\n    removeFeature(feature) {\n      // remove feature\n      // when only one left, ask for user to confirm\n      let toBeRemoved = !(\n        this.featuresLayerSource.getFeatures().length === 1 && !confirm(this.$gettext('Confirm delete'))\n      );\n      if (toBeRemoved) {\n        this.featuresLayerSource.removeFeature(feature);\n        this.emitFeaturesEvent();\n      }\n    },\n\n    removeFeatures() {\n      this.featuresLayerSource.clear(true);\n      this.emitFeaturesEvent();\n    },\n\n    addFeaturesFromGpx(gpx) {\n      // first, remove camptocamp document\n      this.promiseDocument = null;\n      // and clear geometry\n      this.featuresLayerSource.clear(true);\n\n      // before reading gpx, set what we are doing\n      this.loadingExternalFeatures = true;\n\n      const gpxFormat = new ol.format.GPX();\n      const features = gpxFormat.readFeatures(gpx, { featureProjection: 'EPSG:3857' });\n      features.map(this.addFeature);\n      let featuresTitleFromSource = this.getFeaturesTitleFromGpx(features);\n      this.$yetix.$emit('featuresTitle', featuresTitleFromSource);\n\n      // gpx is loaded, go back to normal case\n      this.loadingExternalFeatures = false;\n      // and emit new features\n      this.emitFeaturesEvent();\n      // fit map to new features\n      this.fitMapToFeatures();\n    },\n\n    getFeaturesTitleFromGpx(features) {\n      if (features && features.length) {\n        const properties = features[0].getProperties();\n        if (properties.name) {\n          return properties.name;\n        } else {\n          return this.$gettext('GPX file');\n        }\n      }\n    },\n\n    addFeaturesFromDocument(doc) {\n      // before reading document, set what we are doing\n      this.loadingExternalFeatures = true;\n\n      const documentGeometry = doc.data.geometry.geom_detail;\n      const feature = new ol.format.GeoJSON().readFeature(documentGeometry);\n      this.addFeature(feature);\n      let featuresTitleFromSource = this.getFeaturesTitleFromDocument(doc);\n      this.$yetix.$emit('featuresTitle', featuresTitleFromSource);\n\n      // document is loaded, go back to normal case\n      this.loadingExternalFeatures = false;\n      // and emit new features\n      this.emitFeaturesEvent();\n      // fit map to new features\n      this.fitMapToFeatures();\n    },\n\n    addFeature(feature) {\n      // split multilinestrings into linestrings\n      if (feature.getGeometry().getType() === 'MultiLineString') {\n        const lines = feature.getGeometry().getLineStrings();\n        lines.map((line) => new ol.Feature({ geometry: line })).map(this.addFeature);\n      } else {\n        const nbPointsOnFeature = feature.getGeometry().getCoordinates().length;\n        if (nbPointsOnFeature >= 2) {\n          this.featuresLayerSource.addFeature(feature);\n        }\n      }\n    },\n\n    getFeaturesTitleFromDocument(document) {\n      return this.$documentUtils.getDocumentTitle(document.data);\n    },\n\n    fitMapToFeatures() {\n      let extent = ol.extent.createEmpty();\n\n      ol.extent.extend(extent, this.featuresLayerSource.getExtent());\n\n      this.view.fit(extent, { size: this.map.getSize() });\n\n      // set a minimum zoom level\n      this.view.setZoom(Math.max(this.validMinZoom, this.view.getZoom()));\n    },\n  },\n  render() {\n    return null;\n  },\n};\n</script>\n","var render, staticRenderFns\nimport script from \"./RouteLayer.vue?vue&type=script&lang=js&\"\nexport * from \"./RouteLayer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RouteLayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RouteLayer.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"legend\"},[_c('div',[_c('div',{staticClass:\"legend-button is-pulled-right ol-control\"},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showLegend = !_vm.showLegend}}},[_c('span',{directives:[{name:\"translate\",rawName:\"v-translate\"}]},[_vm._v(\"Legend\")])])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLegend === true),expression:\"showLegend === true\"}],staticClass:\"legend-content\"},[(!_vm.mapLegend)?_c('p',{directives:[{name:\"translate\",rawName:\"v-translate\"}],staticClass:\"is-italic\"},[_vm._v(\"Legend will appear automatically with the generated image\")]):_c('div',[_c('ul',_vm._l((_vm.mapLegend.items),function(item,i){return _c('li',{key:i},[_c('span',{staticClass:\"legend-color\",style:('background:' + item.color)}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$gettext(item.text['en'])))])])}),0),_vm._v(\" \"),_c('p',{staticClass:\"is-size-6 is-italic\"},[_vm._v(_vm._s(_vm.$gettext(_vm.mapLegend.comment['en'])))])])])]),_vm._v(\" \"),(_vm.isLayerLoaded)?_c('div',{staticClass:\"ol-control opacity\"},[_c('div',{staticClass:\"opacity-slider\"},[_c('vue-slider',{attrs:{\"min\":0,\"max\":1,\"interval\":0.01,\"tooltip\":\"none\",\"direction\":\"btt\",\"rail-style\":{ background: 'rgba(0,0,0,.25)' },\"process-style\":{ background: 'white' }},on:{\"change\":_vm.onUpdateOpacity},model:{value:(_vm.opacity),callback:function ($$v) {_vm.opacity=$$v},expression:\"opacity\"}})],1)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"legend\">\n      <div>\n        <div class=\"legend-button is-pulled-right ol-control\">\n          <button type=\"button\" @click=\"showLegend = !showLegend\">\n            <span v-translate>Legend</span>\n          </button>\n        </div>\n      </div>\n      <div class=\"legend-content\" v-show=\"showLegend === true\">\n        <p class=\"is-italic\" v-if=\"!mapLegend\" v-translate>Legend will appear automatically with the generated image</p>\n        <div v-else>\n          <ul>\n            <li v-for=\"(item, i) of mapLegend.items\" :key=\"i\">\n              <span class=\"legend-color\" :style=\"'background:' + item.color\" />\n              <!-- $gettext('Risky slopes') -->\n              <!-- $gettext('Risky slopes, increased risk due to orientation') -->\n              <!-- $gettext('Residual risk >1') -->\n              <!-- $gettext('Residual risk >1.3') -->\n              <!-- $gettext('Residual risk >1.5') -->\n              <span>{{ $gettext(item.text['en']) }}</span>\n            </li>\n          </ul>\n          <!-- $gettext('From danger 3, consider the slopes which dominate the route') -->\n          <p class=\"is-size-6 is-italic\">{{ $gettext(mapLegend.comment['en']) }}</p>\n        </div>\n      </div>\n    </div>\n    <div class=\"ol-control opacity\" v-if=\"isLayerLoaded\">\n      <div class=\"opacity-slider\">\n        <vue-slider\n          v-model=\"opacity\"\n          :min=\"0\"\n          :max=\"1\"\n          :interval=\"0.01\"\n          tooltip=\"none\"\n          direction=\"btt\"\n          :rail-style=\"{ background: 'rgba(0,0,0,.25)' }\"\n          :process-style=\"{ background: 'white' }\"\n          @change=\"onUpdateOpacity\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport layerMixin from './layer';\n\nimport 'vue-slider-component/theme/default.css';\n\nimport ol from '@/js/libs/ol';\n\nconst ATTRIBUTION = 'RGE ALTI';\nconst OPACITY = 0.75;\n\nexport default {\n  components: {\n    VueSlider: () => import(/* webpackChunkName: \"slider\" */ 'vue-slider-component'),\n  },\n  mixins: [layerMixin],\n  props: {\n    data: {\n      type: String,\n      default: null,\n    },\n    extent: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      isLayerLoaded: false,\n      opacity: OPACITY,\n      showLegend: undefined,\n      mapLegend: null,\n    };\n  },\n  watch: {\n    data() {\n      if (!this.data) {\n        this.clearLayers();\n        return;\n      }\n      this.drawImage();\n    },\n    extent() {\n      this.drawExtent(this.extent);\n    },\n  },\n  methods: {\n    clearLayers() {\n      this.layer.setSource(null);\n      this.isLayerLoaded = false;\n\n      this.extentLayer.getSource().clear();\n    },\n\n    drawExtent(extent) {\n      // extend extent\n      const extentFill = ol.extent.buffer(extent, Math.max(extent[2] - extent[0], extent[3] - extent[1]) / 10);\n      // then, create a donut polygon\n      const feature = new ol.Feature(new ol.geom.Polygon([this.toLinearRing(extentFill), this.toLinearRing(extent)]));\n      // add feature to extentlayer\n      this.extentLayer.getSource().addFeature(feature);\n    },\n\n    drawImage() {\n      const xml = new DOMParser().parseFromString(this.data, 'application/xml');\n      const imageBase64 = xml.getElementsByTagName('wps:ComplexData')[0].textContent;\n      const imageBbox = xml.getElementsByTagName('wps:ComplexData')[1].textContent;\n      const imageExtent = ol.proj.transformExtent(imageBbox.split(',').map(Number), 'EPSG:4326', 'EPSG:3857');\n\n      this.layer.setSource(\n        new ol.source.ImageStatic({\n          imageLoadFunction(image) {\n            image.getImage().src = 'data:image/png;base64,' + imageBase64;\n          },\n          attributions: ATTRIBUTION,\n          imageExtent,\n        })\n      );\n      // source is set\n      this.isLayerLoaded = true;\n      // set map legend\n      this.setLegend(xml);\n    },\n\n    onUpdateOpacity() {\n      this.layer.setOpacity(this.opacity);\n    },\n\n    setLegend(xml) {\n      this.mapLegend = JSON.parse(xml.getElementsByTagName('wps:ComplexData')[2].textContent);\n      this.mapLegend.items.forEach((item) => {\n        item.color = `rgb(${item.color[0]}, ${item.color[1]}, ${item.color[2]})`;\n      });\n    },\n\n    toLinearRing(extent) {\n      const minX = extent[0];\n      const minY = extent[1];\n      const maxX = extent[2];\n      const maxY = extent[3];\n      return [\n        [minX, minY],\n        [minX, maxY],\n        [maxX, maxY],\n        [maxX, minY],\n        [minX, minY],\n      ];\n    },\n  },\n  created() {\n    this.layer = new ol.layer.Image({\n      source: new ol.source.ImageStatic({\n        url: null,\n        imageExtent: ol.extent.createEmpty(),\n      }),\n      opacity: this.opacity,\n    });\n    this.extentLayer = new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: [\n        new ol.style.Style({\n          fill: new ol.style.Fill({\n            color: 'hsla(30, 100%, 60%, .45)',\n          }),\n        }),\n        new ol.style.Style({\n          stroke: new ol.style.Stroke({\n            color: 'hsla(30, 100%, 40%, 1)',\n            width: 2,\n          }),\n          geometry: (feature) => {\n            return new ol.geom.Polygon([feature.getGeometry().getCoordinates()[1]]);\n          },\n        }),\n      ],\n    });\n  },\n  mounted() {\n    this.map.addLayer(this.layer);\n    this.map.addLayer(this.extentLayer);\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/sass/variables.scss';\n\n.legend {\n  position: absolute;\n  z-index: 6;\n  top: 1.25rem;\n  right: 1.25rem;\n\n  .legend-button {\n    position: static;\n\n    button {\n      width: auto;\n      padding: 0 0.5em;\n    }\n  }\n\n  .legend-content {\n    margin-top: 0.5rem;\n    margin-left: 1.25rem;\n    border-radius: 2px;\n    border: 1px solid lightgray;\n    padding: 0.5rem;\n    background: white;\n    clear: both;\n  }\n\n  .legend-color {\n    vertical-align: bottom;\n    display: inline-block;\n    width: 21px;\n    height: 21px;\n    margin-right: 5px;\n  }\n}\n\n.opacity {\n  position: absolute;\n  z-index: 5;\n  top: 3.5rem;\n  right: 1.25rem;\n\n  .opacity-slider {\n    font-size: 1.14em;\n    margin: 1px;\n    width: 1.375em;\n    padding: 1rem 0;\n    background: rgba(0, 60, 136, 0.5);\n    border-radius: 2px;\n\n    &:hover {\n      background: rgba(0, 60, 136, 0.7);\n    }\n  }\n\n  .vue-slider {\n    padding: 0 9px !important;\n    height: 300px !important;\n    max-height: 30vh;\n  }\n\n  .vue-slider-process {\n    background: $white;\n  }\n\n  .vue-slider-rail {\n    background: $black;\n  }\n}\n\n@media screen and (max-width: $tablet) {\n  .legend {\n    top: 0.5rem;\n\n    .legend-content {\n      margin-left: 0.5rem;\n    }\n  }\n\n  .opacity {\n    top: 2.75rem;\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiLayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiLayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YetiLayer.vue?vue&type=template&id=63ee9d9e&scoped=true&\"\nimport script from \"./YetiLayer.vue?vue&type=script&lang=js&\"\nexport * from \"./YetiLayer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./YetiLayer.vue?vue&type=style&index=0&id=63ee9d9e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63ee9d9e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"column map-container\">\n    <div style=\"width: 100%; height: 100%\">\n      <div ref=\"map\" style=\"width: 100%; height: 100%\" @click=\"showLayerSwitcher = false\" />\n      <yeti-layer :data=\"yetiData\" :extent=\"yetiExtent\"></yeti-layer>\n      <route-layer\n        :active=\"activeTab === 0\"\n        :features=\"features\"\n        :gpx=\"gpx\"\n        :valid-min-zoom=\"validMinZoom\"\n        @interaction=\"addInteraction\"\n      />\n      <div\n        ref=\"layerSwitcherButton\"\n        class=\"ol-control ol-control-layer-switcher-button\"\n        :title=\"$gettext('Layers', 'Map controls')\"\n      >\n        <button @click.stop=\"showLayerSwitcher = !showLayerSwitcher\">\n          <fa-icon icon=\"layer-group\" />\n        </button>\n      </div>\n\n      <div v-show=\"showLayerSwitcher\" ref=\"layerSwitcher\" class=\"ol-control ol-control-layer-switcher\" @click.stop=\"\">\n        <div>\n          <header v-translate>Base layer</header>\n          <div v-for=\"layer of cartoLayers\" :key=\"layer.get('title')\" @click=\"visibleCartoLayer = layer\">\n            <input :checked=\"layer == visibleCartoLayer\" type=\"radio\" />\n            {{ $gettext(layer.get('title'), 'Map layer') }}\n          </div>\n        </div>\n        <div>\n          <header v-translate>Slopes</header>\n          <div v-for=\"layer of dataLayers\" :key=\"layer.get('title')\" @click=\"toggleMapDataLayer(layer)\">\n            <input :checked=\"layer.getVisible()\" type=\"checkbox\" />\n            {{ $gettext(layer.get('title'), 'Map slopes layer') }}\n          </div>\n        </div>\n      </div>\n\n      <div ref=\"recenterOnControl\" class=\"ol-control ol-control-recenter-on\">\n        <input type=\"text\" :placeholder=\"$gettext('Recenter on...')\" @input=\"searchRecenterPropositions\" />\n      </div>\n\n      <div\n        v-show=\"showRecenterOnPropositions\"\n        ref=\"recenterOnPropositions\"\n        class=\"ol-control ol-control-recenter-on-propositions\"\n      >\n        <ul v-if=\"recenterPropositions && recenterPropositions.data && recenterPropositions.data.features\">\n          <li v-for=\"(item, i) of recenterPropositions.data.features\" :key=\"i\" @click=\"recenterOn(item)\">\n            {{ item.properties.name }},\n            <small>{{ item.properties.state }}, {{ item.properties.country }}</small>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport { cartoLayers, dataLayers } from '../map/map-layers';\n\nimport RouteLayer from './map-layers/RouteLayer.vue';\nimport YetiLayer from './map-layers/YetiLayer.vue';\n\nimport photon from '@/js/apis/photon';\nimport ol from '@/js/libs/ol';\n\nconst DEFAULT_CENTER = [6.25, 45.15];\nconst DEFAULT_ZOOM = 6;\nconst MAX_ZOOM = 19;\n\nconst YETI_URL_MOUNTAINS = '/mountains_WGS84.json';\nconst YETI_URL_AREAS = 'https://api.ensg.eu/yeti-extent';\n\nexport default {\n  components: {\n    RouteLayer,\n    YetiLayer,\n  },\n  props: {\n    activeTab: {\n      type: Number,\n      required: true,\n    },\n    validMinZoom: {\n      type: Number,\n      required: true,\n    },\n    mapZoom: {\n      type: Number,\n      required: true,\n    },\n    yetiExtent: {\n      type: Array,\n      required: true,\n    },\n    yetiData: {\n      type: String,\n      default: null,\n    },\n    mountains: {\n      type: Object,\n      required: true,\n    },\n    areaOk: {\n      type: Boolean,\n      required: true,\n    },\n    features: {\n      type: Array,\n      required: true,\n    },\n    gpx: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      cartoLayers: cartoLayers(),\n      dataLayers: dataLayers(),\n\n      showLayerSwitcher: false,\n      recenterPropositions: null,\n      showRecenterOnPropositions: false,\n\n      featuresTitleFromSource: null,\n      promiseDocument: null,\n\n      areas: [],\n    };\n  },\n  computed: {\n    visibleCartoLayer: {\n      get() {\n        return this.cartoLayers.find((layer) => layer.getVisible() === true);\n      },\n      set(layer) {\n        this.visibleCartoLayer.setVisible(false);\n        layer.setVisible(true);\n      },\n    },\n    areasLayerStyle() {\n      const levelStrokeWidth = 2;\n      const levelStrokeOpacity = 4;\n      const lineWidthStroke = Math.max(0, Math.min(this.mapZoom - 6, levelStrokeWidth));\n      const opacityStroke = Math.max(0, Math.min(this.mapZoom - 6, levelStrokeOpacity)) / 4;\n      const lineDashStroke = opacityStroke * 6;\n\n      return new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: 'hsla(30, 100%, 40%,' + opacityStroke + ')',\n          width: lineWidthStroke,\n          lineDash: [lineDashStroke],\n        }),\n      });\n    },\n  },\n  created() {\n    // build map\n    this.map = new ol.Map({\n      controls: [\n        new ol.control.Zoom({\n          zoomInTipLabel: this.$gettext('Zoom in', 'Map controls'),\n          zoomOutTipLabel: this.$gettext('Zoom out', 'Map controls'),\n        }),\n        new ol.control.ScaleLine(),\n        new ol.control.Attribution({ tipLabel: this.$gettext('Attributions', 'Map controls') }),\n      ],\n\n      layers: [\n        // c2c layers\n        ...this.cartoLayers,\n        ...this.dataLayers,\n      ],\n\n      view: new ol.View({\n        center: ol.proj.transform(DEFAULT_CENTER, 'EPSG:4326', 'EPSG:3857'),\n        zoom: DEFAULT_ZOOM,\n        maxZoom: MAX_ZOOM,\n      }),\n    });\n  },\n  mounted() {\n    // when mounted, bind map to element\n    this.map.setTarget(this.$refs.map);\n    // add specific controls\n    let controls = [\n      new ol.control.FullScreen({ source: this.$el, tipLabel: this.$gettext('Toggle full-screen', 'Map Controls') }),\n      new ol.control.Control({ element: this.$refs.layerSwitcherButton }),\n      new ol.control.Control({ element: this.$refs.layerSwitcher }),\n      new ol.control.Control({ element: this.$refs.recenterOnControl }),\n      new ol.control.Control({ element: this.$refs.recenterOnPropositions }),\n    ];\n    controls.map((control) => this.map.addControl(control));\n\n    // areas layer\n    this.areasLayer = new ol.layer.Vector({\n      renderMode: 'image',\n      source: new ol.source.Vector(),\n      style: this.areasLayerStyle,\n    });\n\n    this.view = this.map.getView();\n\n    // add layers to map\n    this.map.addLayer(this.areasLayer);\n\n    // add events\n    this.addEvents();\n\n    // set mountains\n    axios.get(YETI_URL_MOUNTAINS).then(this.onMountainsResult);\n\n    // set areas (yeti valid areas)\n    axios.get(YETI_URL_AREAS).then(this.onAreasResult);\n  },\n  methods: {\n    getExtent(projection) {\n      let extent = this.view.calculateExtent(this.map.getSize() || null);\n      if (projection) {\n        extent = ol.proj.transformExtent(extent, ol.proj.get('EPSG:3857'), ol.proj.get(projection));\n      }\n      return extent;\n    },\n\n    toggleMapDataLayer(layer) {\n      layer.setVisible(!layer.getVisible());\n    },\n\n    searchRecenterPropositions(event) {\n      const query = event.target.value;\n\n      if (query && query.length >= 3) {\n        const center = this.view.getCenter();\n        const centerWgs84 = ol.proj.toLonLat(center);\n\n        this.recenterPropositions = photon.getPropositions(query, this.$language.current, centerWgs84);\n        this.showRecenterOnPropositions = true;\n      }\n    },\n\n    recenterOn(item) {\n      const feature = new ol.format.GeoJSON().readFeature(item);\n      let extent = feature.get('extent');\n      let coordinates = feature.getGeometry().flatCoordinates;\n\n      if (extent) {\n        extent = ol.proj.transformExtent(extent, 'EPSG:4326', 'EPSG:3857');\n        this.view.fit(extent, { size: this.map.getSize(), maxZoom: 12 });\n      } else {\n        coordinates = ol.proj.transform(coordinates, 'EPSG:4326', 'EPSG:3857');\n        this.view.setCenter(coordinates);\n        this.view.setZoom(16);\n      }\n\n      this.showRecenterOnPropositions = false;\n    },\n\n    addEvents() {\n      // global events\n      this.map.on('moveend', this.onMapMoveEnd);\n    },\n\n    onMapMoveEnd(event) {\n      const mapZoom = Math.floor(event.map.getView().getZoom() * 10) / 10;\n      this.$emit('update:mapZoom', mapZoom);\n\n      // set visible mountains\n      this.setVisibleMountains();\n\n      // is area OK ?\n      this.isAreaOK();\n      // update areas layer style\n      this.areasLayer.setStyle(this.areasLayerStyle);\n    },\n\n    onMountainsResult(data) {\n      const features = data.data;\n      let mountains = new ol.format.GeoJSON().readFeatures(features).map((mountain) => {\n        return mountain.getProperties();\n      });\n      this.allMountains = this.sortMountainsByMassif(mountains);\n      this.setVisibleMountains();\n    },\n\n    sortMountainsByMassif(mountains) {\n      // first, order mountains by massifs\n      const sortedMountains = {};\n      for (let i = 0; i < mountains.length; i++) {\n        if (!sortedMountains[mountains[i].mountain]) {\n          sortedMountains[mountains[i].mountain] = [];\n        }\n        sortedMountains[mountains[i].mountain].push(mountains[i]);\n      }\n      mountains = sortedMountains;\n\n      // then sort mountains inside each massif\n      for (const i in mountains) {\n        mountains[i].sort((a, b) => {\n          if (a.title < b.title) return -1;\n          if (b.title > a.title) return 1;\n          return 0;\n        });\n      }\n\n      return mountains;\n    },\n\n    setVisibleMountains() {\n      // return, if mountains not loaded\n      if (!this.allMountains) {\n        return;\n      }\n      const mapExtent = this.getExtent('EPSG:4326');\n      // clone this.mountains first, with no reference\n      const visibleMountains = Object.assign({}, this.allMountains);\n      // then filter if polygon isnt in view\n      for (const massif in visibleMountains) {\n        visibleMountains[massif] = visibleMountains[massif].filter((mountain) => {\n          const polygon = mountain.geometry;\n          return polygon.intersectsExtent(mapExtent);\n        });\n        // unset massif if empty\n        if (visibleMountains[massif].length === 0) {\n          delete visibleMountains[massif];\n        }\n      }\n      // set mountains in visibleMountains key\n      const mountains = { visibleMountains };\n      this.$emit('update:mountains', mountains);\n    },\n\n    onAreasResult(data) {\n      const areas = data.data;\n      const rawFeatures = new ol.format.GeoJSON().readFeatures(areas);\n      // geojson is 4326, convert to 3857\n      rawFeatures[0].getGeometry().transform('EPSG:4326', 'EPSG:3857');\n\n      this.areas = rawFeatures.map((area) => {\n        return area.getProperties();\n      });\n\n      // flatten coords\n      const rawCoords = rawFeatures[0].getGeometry().getCoordinates();\n      const coords = [];\n      for (let i = 0; i < rawCoords.length; i++) {\n        coords.push(...rawCoords[i]);\n      }\n      // then, build linestrings instead of polygon (perf)\n      const features = [];\n      for (let i = 0; i < coords.length; i++) {\n        for (let j = 0; j < coords[i].length - 1; j++) {\n          features.push(new ol.Feature(new ol.geom.LineString([coords[i][j], coords[i][j + 1]])));\n        }\n      }\n\n      // add features\n      this.areasLayer.getSource().addFeatures(features);\n      // is area OK\n      this.isAreaOK();\n    },\n\n    isAreaOK() {\n      const mapExtent = this.getExtent('EPSG:3857');\n\n      let areaOk = true;\n\n      for (const area in this.areas) {\n        const polygon = this.areas[area].geometry;\n        if (polygon.intersectsExtent(mapExtent)) {\n          break;\n        } else {\n          areaOk = false;\n        }\n      }\n\n      this.$emit('update:areaOk', areaOk);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '~ol/ol.css';\n@import '@/assets/sass/variables.scss';\n\n$control-margin: 0.5em;\n\n.ol-control-layer-switcher {\n  bottom: 3em;\n  left: $control-margin;\n  color: white;\n  text-decoration: none;\n  background-color: rgba(0, 60, 136, 0.6);\n  border: none;\n  border-radius: 2px;\n  padding: 0 10px 10px 10px;\n  display: flex;\n\n  & > div {\n    width: 50%;\n\n    &:first-child {\n      margin-right: 10px;\n    }\n\n    header {\n      font-weight: bold;\n      padding-top: 10px;\n    }\n  }\n}\n\n.ol-control-layer-switcher-button {\n  bottom: $control-margin;\n  left: $control-margin;\n}\n\n.ol-control-recenter-on {\n  top: $control-margin;\n  left: 3em;\n}\n\n.ol-control-recenter-on-propositions {\n  top: 35px;\n  left: 3em;\n  background: rgba(255, 255, 255, 0.9);\n  padding: 5px;\n\n  li:hover {\n    background: lightgrey;\n    cursor: pointer;\n  }\n}\n\n$section-padding: 1.5rem; //TODO find this variable\n$box-padding: 1.25rem; //TODO find this variable\n$header-height: 34px;\n$box-margin: 1.5rem; //TODO find this variable\n$yeti-height: calc(\n  100vh - #{$navbar-height} - #{$section-padding} - 2 *#{$box-padding} - #{$header-height} - #{$box-margin} - #{$box-margin}\n);\n\n.map-container {\n  position: relative;\n}\n@media screen and (max-width: $tablet) {\n  .map-container {\n    height: $yeti-height;\n    padding-left: 0;\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n}\n\n@media screen and (min-width: $tablet) {\n  .yeti-content {\n    .map-container {\n      min-height: 100%;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YetiMap.vue?vue&type=template&id=c2425980&scoped=true&\"\nimport script from \"./YetiMap.vue?vue&type=script&lang=js&\"\nexport * from \"./YetiMap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./YetiMap.vue?vue&type=style&index=0&id=c2425980&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c2425980\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- eslint-disable no-irregular-whitespace -->\n  <div class=\"section\">\n    <html-header title=\"Yeti\" />\n    <div class=\"box\">\n      <h1 class=\"title is-1\">\n        <div class=\"yeti-icon is-inline-block\">\n          <icon-yeti />\n        </div>\n        <span v-translate>YETI - A preparation tool for your outing</span>\n      </h1>\n    </div>\n\n    <div class=\"yeti-app\">\n      <div class=\"box yeti-overlay\" v-if=\"showDisclaimer\">\n        <yeti-article class=\"yeti-article--disclaimer\" :article=\"articles.disclaimer\"></yeti-article>\n        <form action=\"#\" @submit=\"onSubmitDisclaimer\">\n          <input-checkbox v-model=\"checkDisclaimer\" v-translate>\n            I read and understood the interest and limitations of YETI\n          </input-checkbox>\n          <button class=\"button is-primary\" :disabled=\"!checkDisclaimer\" v-translate>Launch YETI</button>\n        </form>\n      </div>\n\n      <div class=\"box yeti-overlay\" v-if=\"$route.params.page === 'faq'\">\n        <p><router-link to=\".\" v-translate>Go back to YETI</router-link></p>\n        <yeti-article class=\"yeti-article--disclaimer\" :article=\"articles.disclaimer\"></yeti-article>\n        <yeti-article :article=\"articles.faq\"></yeti-article>\n      </div>\n\n      <div class=\"columns yeti-content\">\n        <div class=\"column is-6-tablet is-6-desktop is-5-widescreen is-4-fullhd form-container\">\n          <div class=\"columns mb-0 yeti-columns--reverse is-mobile\">\n            <ul class=\"column is-narrow pb-0\">\n              <li>\n                <router-link class=\"is-block yetitabs-link\" :to=\"$route.fullPath + '/faq'\" v-translate>\n                  FAQ?\n                </router-link>\n              </li>\n            </ul>\n            <tabs :tabs=\"tabs\" :active-tab.sync=\"activeTab\" :has-features=\"hasFeatures\" />\n          </div>\n          <div class=\"box\">\n            <panel ref=\"panel0\" :index=\"0\" :active-tab=\"activeTab\" class=\"is-relative\">\n              <validation-button\n                class=\"is-hidden-mobile yeti-validation--top\"\n                :current-error=\"currentError\"\n                :loading=\"promise\"\n                @click=\"compute\"\n                tabindex=\"-1\"\n              />\n              <sub-panel-bra :bra.sync=\"bra\" :mountains=\"mountains\" />\n              <sub-panel-methods :method.sync=\"method\" :bra=\"bra\" @warn-about-method-bra=\"warnAboutMethodBra\" />\n              <validation-button\n                v-show=\"method.type\"\n                class=\"yeti-validation--bottom\"\n                :current-error=\"currentError\"\n                :loading=\"promise\"\n                @click=\"compute\"\n              />\n            </panel>\n\n            <panel ref=\"panel1\" :index=\"1\" :active-tab=\"activeTab\">\n              <sub-panel-course :features=\"features\" :features-title.sync=\"featuresTitle\" @gpx=\"onGpxLoaded\" />\n            </panel>\n          </div>\n\n          <div class=\"box yeti-logos\">\n            <div class=\"columns is-mobile is-vcentered\">\n              <div class=\"column has-text-centered\">\n                <a href=\"http://www.ensg.eu\">\n                  <picture>\n                    <source srcset=\"@/assets/img/yeti/logo-ensg.webp\" type=\"image/webp\" />\n                    <source srcset=\"@/assets/img/yeti/logo-ensg.avif\" type=\"image/avif\" />\n                    <img src=\"@/assets/img/yeti/logo-ensg.jpg\" alt=\"Logo ENSG\" width=\"120\" loading=\"lazy\" />\n                  </picture>\n                </a>\n              </div>\n              <div class=\"column has-text-centered\">\n                <a href=\"https://www.petzl.com/fondation/fondation-petzl?language=fr\">\n                  <picture>\n                    <source srcset=\"@/assets/img/yeti/logo-fondation-petzl.webp\" type=\"image/webp\" />\n                    <source srcset=\"@/assets/img/yeti/logo-fondation-petzl.avif\" type=\"image/avif\" />\n                    <img\n                      src=\"@/assets/img/yeti/logo-fondation-petzl.jpg\"\n                      alt=\"Logo Fondation Petzl\"\n                      width=\"90\"\n                      loading=\"lazy\"\n                    />\n                  </picture>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <yeti-map\n          ref=\"map\"\n          :gpx=\"gpx\"\n          :active-tab=\"activeTab\"\n          :valid-min-zoom=\"validFormData.minZoom\"\n          :map-zoom.sync=\"mapZoom\"\n          :yeti-data=\"yetiData\"\n          :yeti-extent=\"yetiExtent\"\n          :mountains.sync=\"mountains\"\n          :area-ok.sync=\"areaOk\"\n          :features=\"features\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Vue from 'vue';\n\nimport YetiArticle from '@/components/yeti/Article';\nimport Panel from '@/components/yeti/Panel';\nimport SubPanelBra from '@/components/yeti/SubPanelBra';\nimport SubPanelCourse from '@/components/yeti/SubPanelCourse';\nimport SubPanelMethods from '@/components/yeti/SubPanelMethods';\nimport Tabs from '@/components/yeti/Tabs';\nimport ValidationButton from '@/components/yeti/ValidationButton';\nimport YetiMap from '@/components/yeti/YetiMap';\nimport ol from '@/js/libs/ol';\n\nconst YETI_URL_BASE =\n  'https://api.ensg.eu/yeti-wps?request=Execute&service=WPS&version=1.0.0&identifier=Yeti&datainputs=';\n\nconst VALID_FORM_DATA = {\n  minZoom: 13,\n  braMaxMrd: 3,\n};\n\nconst $yetix = new Vue();\n\nexport default {\n  name: 'Yeti',\n\n  components: {\n    YetiArticle,\n    Panel,\n    SubPanelBra,\n    SubPanelCourse,\n    SubPanelMethods,\n    Tabs,\n    ValidationButton,\n    YetiMap,\n  },\n\n  provide() {\n    return {\n      $yetix: $yetix,\n    };\n  },\n\n  data() {\n    return {\n      showDisclaimer: false,\n      checkDisclaimer: false,\n\n      articles: {\n        faq: {\n          id: 1257569,\n          title: 'FAQ',\n        },\n        disclaimer: {\n          id: 1257571,\n          title: this.$gettext('Disclaimer'),\n        },\n      },\n\n      tabs: [this.$gettext('Compute'), this.$gettext('Outing')],\n      activeTab: 0,\n\n      errors: {\n        area: {\n          simple: this.$gettext('Area not covered'),\n          full: this.$gettext(\n            'Current map view is not covered by YETI. Only french mountains are as of now (determined by a dashed stroke).'\n          ),\n        },\n        method: {\n          simple: this.$gettext('Missing method'),\n          full: this.$gettext('Please select a method before computing.'),\n        },\n        method_bra: {\n          simple: this.$gettext('Conflicting method and danger'),\n          full: this.$gettext(\n            'The MRD method (beginner) is allowed when danger is 3 maximum. Choose another method: MRE or MRP.'\n          ),\n        },\n        bra: {\n          simple: this.$gettext('Missing danger level'),\n          full: this.$gettext('Please set danger level as specified on avalanche bulletin for the specific area.'),\n        },\n        altitude: {\n          simple: this.$gettext('Missing altitude'),\n          full: this.$gettext(\n            'Altitude is mandatory when danger high and low are different. Please set altitude as specified on avalanche bulletin for the specific area.'\n          ),\n        },\n        zoom: {\n          simple: this.$gettext('Area too large'),\n          full: this.$gettext('Current map view is too large. Please zoom to level ' + VALID_FORM_DATA.minZoom),\n        },\n        ok: this.$gettext('Seems fine! :)'),\n        yeti: this.$gettext('Service is inactive right now'),\n        yeti_prefix: 'YETI Service: ',\n        yeti_unauthorized: this.$gettext(\n          'You have to be authorized. Please contact administrators of the service if interested.'\n        ),\n      },\n\n      validFormData: VALID_FORM_DATA,\n\n      bra: {\n        high: null,\n        low: null,\n        altiThreshold: null,\n        isDifferent: false,\n      },\n      method: {\n        type: null,\n        orientation: [],\n        potentialDanger: undefined,\n        wetSnow: false,\n        groupSize: 1,\n      },\n\n      mapZoom: 0,\n      formError: undefined,\n      currentError: undefined,\n\n      promise: null,\n      yetiData: null,\n      yetiExtent: [],\n\n      features: [],\n      gpx: null,\n      featuresTitle: this.$gettext('New route'),\n\n      mountains: {},\n\n      areaOk: true,\n    };\n  },\n\n  computed: {\n    mrdIsNotApplicable() {\n      return this.isBraMax && this.method.type === 'mrd';\n    },\n\n    isBraMax() {\n      return this.bra.high > this.validFormData.braMaxMrd || this.bra.low > this.validFormData.braMaxMrd;\n    },\n\n    isValidMapZoom() {\n      return this.mapZoom >= this.validFormData.minZoom;\n    },\n\n    hasFeatures() {\n      return !!this.features.length;\n    },\n  },\n\n  watch: {\n    'bra.low': 'check',\n    'bra.altiThreshold': 'check',\n    'bra.isDifferent': 'check',\n    'method.type': 'check',\n    'method.potentialDanger': 'check',\n    mapZoom: 'check',\n    areaOk: 'check',\n    featuresTitle(newValue) {\n      // set default featuresTitle if null (from yeti map)\n      if (newValue === null) {\n        this.featuresTitle = this.$gettext('New route');\n      }\n    },\n  },\n\n  created() {\n    // show disclaimer if not already validated\n    if (!this.$localStorage.get('yeti-disclaimer')) {\n      this.showDisclaimer = true;\n    }\n  },\n\n  mounted() {\n    this.check();\n\n    // mutations\n    $yetix.$on('features', (features) => {\n      this.features = features;\n    });\n  },\n\n  methods: {\n    check() {\n      if (!this.areaOk) {\n        this.formError = 'area';\n      } else if (!this.isValidMapZoom) {\n        this.formError = 'zoom';\n      } else if (!this.bra.high) {\n        this.formError = 'bra';\n      } else if (this.bra.low && this.bra.high !== this.bra.low && !this.bra.altiThreshold) {\n        this.formError = 'altitude';\n      } else if (!this.method.type) {\n        this.formError = 'method';\n      } else if (this.mrdIsNotApplicable) {\n        this.formError = 'method_bra';\n      } else if (this.bra.isDifferent && (!this.bra.low || !this.bra.high)) {\n        this.formError = 'bra';\n      } else {\n        this.formError = null;\n      }\n      // also\n      // verif if bra = 4, method MRD forbidden\n      if (this.mrdIsNotApplicable) {\n        this.method.type = null;\n      }\n\n      // then set errors\n      this.setCurrentError();\n    },\n\n    warnAboutMethodBra(item) {\n      if (item === 'mrd' && this.isBraMax) {\n        window.alert(this.errors.method_bra.full);\n      }\n    },\n\n    setCurrentError() {\n      if (this.formError) {\n        this.currentError = this.errors[this.formError]['simple'];\n        if (this.formError === 'zoom') {\n          this.currentError +=\n            ' (' +\n            this.$gettext('current zoom:') +\n            ' ' +\n            this.mapZoom +\n            ' ' +\n            this.$gettext('on') +\n            ' ' +\n            this.validFormData.minZoom +\n            ')';\n        }\n      } else {\n        this.currentError = this.errors['ok'];\n      }\n    },\n\n    compute() {\n      if (this.formError) {\n        window.alert(this.errors[this.formError]['full']);\n        return;\n      }\n\n      const extent = this.$refs.map.getExtent('EPSG:3857');\n      const extendedExtent = this.extendExtent(extent);\n\n      const yetiUrl = this.getYetiUrl(extendedExtent);\n\n      // first, set data to null (will remove last one)\n      this.yetiData = null;\n\n      // fetch img\n      this.promise = axios\n        .get(yetiUrl)\n        .then((result) => this.onYetiResult(result, extendedExtent))\n        .catch(this.onYetiError);\n    },\n\n    extendExtent(extent) {\n      const extendedFactor = Math.min(0.5, (this.mapZoom - this.validFormData.minZoom) / 6);\n      const extendedValue = Math.max(extent[2] - extent[0], extent[3] - extent[1]) * extendedFactor;\n      return ol.extent.buffer(extent, extendedValue);\n    },\n\n    onYetiResult(result, extendedExtent) {\n      this.yetiData = result.data;\n      this.yetiExtent = extendedExtent;\n\n      this.promise = null;\n    },\n\n    onYetiError(err) {\n      this.promise = null;\n\n      let errorText = this.errors['yeti'];\n\n      if (err.response.status === 400) {\n        const xml = new DOMParser().parseFromString(err.response.data, 'text/xml');\n        errorText = [...xml.getElementsByTagName('ExceptionText')].map((_) => _.textContent).join(' ');\n      }\n\n      if (err.response.status === 403) {\n        errorText = this.errors['yeti_unauthorized'];\n      }\n\n      window.alert(this.errors['yeti_prefix'] + errorText);\n    },\n\n    getYetiUrl(extent) {\n      // project extent\n      const bbox = ol.proj.transformExtent(extent, 'EPSG:3857', 'EPSG:4326');\n\n      // set bra.low / altiThreshold\n      const braLow = this.bra.isDifferent ? this.bra.low : this.bra.high;\n      const braAltiThreshold = this.bra.isDifferent ? this.bra.altiThreshold : 0;\n\n      // mre\n      const compass =\n        this.method.type === 'mre' && this.method.orientation.length !== 0\n          ? 'none,' + this.method.orientation.join(',').toLowerCase()\n          : 'none';\n\n      // mrp\n      const potentialDanger = this.method.type === 'mrp' ? this.method.potentialDanger : 0;\n      const wetSnow = this.method.type === 'mrp' ? this.method.wetSnow : false;\n      const groupSize = this.method.type === 'mrp' ? Math.floor(this.method.groupSize) : 0;\n\n      // create url\n      let result = YETI_URL_BASE;\n      result += `methode=${this.method.type};`;\n      result += `bbox=${bbox[0]},${bbox[1]},${bbox[2]},${bbox[3]};`;\n      result += `risque_haut=${this.bra.high};`;\n      result += `risque_bas=${braLow};`;\n      result += `seuil_alti=${braAltiThreshold};`;\n      result += `rdv=${compass};`;\n      result += `potentiel_danger=${potentialDanger};`;\n      result += `neige_mouillee=${wetSnow};`;\n      result += `taille_groupe=${groupSize}`;\n\n      return result;\n    },\n\n    onSubmitDisclaimer() {\n      this.showDisclaimer = false;\n      this.$localStorage.set('yeti-disclaimer', 'validated');\n    },\n\n    onGpxLoaded(data) {\n      this.gpx = data;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n$section-padding: 1.5rem; //TODO find this variable\n$box-padding: 1.25rem; //TODO find this variable\n$header-height: 34px;\n$box-margin: 1.5rem; //TODO find this variable\n$yeti-height: calc(\n  100vh - #{$navbar-height} - #{$section-padding} - 2 *#{$box-padding} - #{$header-height} - #{$box-margin} - #{$box-margin}\n);\n\n.yeti-app {\n  position: relative;\n}\n\n.yeti-icon {\n  transform: scale(0.9);\n}\n\n.yeti-columns--reverse {\n  flex-direction: row-reverse;\n}\n\n@media screen and (max-width: $tablet) {\n  .mobile-result-map {\n    margin-top: 0;\n    height: $yeti-height;\n\n    .documents-container {\n      display: None;\n    }\n  }\n\n  .mobile-result-card {\n    .map-container {\n      visibility: hidden; // map does not like to be in a display none...\n    }\n  }\n}\n\n@media screen and (min-width: $tablet) {\n  .yeti-content {\n    height: $yeti-height;\n\n    .form-container {\n      height: 100%;\n      overflow: auto;\n    }\n  }\n}\n\n.yeti-validation--top {\n  position: absolute;\n  right: 0;\n  top: 0.75rem;\n  width: 50%;\n  z-index: 1;\n}\n\n.yeti-validation--bottom {\n  margin-top: 1rem;\n}\n\n.yeti-logos {\n  box-shadow: none;\n  background: none;\n  mix-blend-mode: multiply;\n\n  img {\n    max-width: 65%;\n  }\n}\n\n.yeti-overlay {\n  position: absolute;\n  z-index: 10;\n  top: 0.75rem;\n  right: 0;\n  left: 0;\n  min-height: 100%;\n\n  & ~ .yeti-content {\n    visibility: hidden;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n/* Not scoped styles */\n.yeti-app {\n  .input-orientation {\n    width: 120px;\n    height: 120px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./YetiView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YetiView.vue?vue&type=template&id=6c308007&scoped=true&\"\nimport script from \"./YetiView.vue?vue&type=script&lang=js&\"\nexport * from \"./YetiView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./YetiView.vue?vue&type=style&index=0&id=6c308007&scoped=true&lang=scss&\"\nimport style1 from \"./YetiView.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c308007\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/logo-ensg.e6781953.jpg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelBra.vue?vue&type=style&index=0&id=df986eea&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeaturesList.vue?vue&type=style&index=0&id=54e4fe71&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo-fondation-petzl.24ab8a49.webp\";","module.exports = __webpack_public_path__ + \"img/logo-ensg.35fbf647.webp\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubPanelTitle.vue?vue&type=style&index=0&id=43c30758&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&id=62129744&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValidationButton.vue?vue&type=style&index=0&id=ad96ba08&scoped=true&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/logo-fondation-petzl.4b665657.jpg\";"],"sourceRoot":""}